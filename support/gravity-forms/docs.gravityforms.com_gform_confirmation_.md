---
url: "https://docs.gravityforms.com/gform_confirmation/"
title: "gform_confirmation - Gravity Forms Documentation"
---

[![Gravity Forms Documentation](https://docs.gravityforms.com/wp-content/uploads/2023/09/logo.svg)](https://docs.gravityforms.com/) [![Gravity Forms Documentation](https://docs.gravityforms.com/wp-content/uploads/2024/08/gf-print_logo.svg)](https://docs.gravityforms.com/)

- [User Guides](https://docs.gravityforms.com/category/user-guides/)
- [Developer](https://docs.gravityforms.com/category/developers/)
- [Blog](https://www.gravityforms.com/blog/)
- [Changelog](https://docs.gravityforms.com/gravityforms-change-log/)

```

```

Toggle Menu

- [Getting Started](https://docs.gravityforms.com/category/getting-started/)
- [Your Gravity Forms Account](https://docs.gravityforms.com/category/your-gravity-forms-account/)
- [User Guides](https://docs.gravityforms.com/category/user-guides/)
- [Gravity Forms 2.9](https://docs.gravityforms.com/category/gravity-forms-2-9/)
- [Gravity Forms 2.8](https://docs.gravityforms.com/category/gravity-forms-2-8/)
- [Add-Ons](https://docs.gravityforms.com/category/add-ons-gravity-forms/)
- [Developers](https://docs.gravityforms.com/category/developers/)  - [Theme Framework](https://docs.gravityforms.com/category/developers/theme-framework/)
  - [Hooks](https://docs.gravityforms.com/category/developers/hooks/)    - [Actions](https://docs.gravityforms.com/category/developers/hooks/actions/)
    - [Filters](https://docs.gravityforms.com/category/developers/hooks/filters/)      - [Add-On Framework Filters](https://docs.gravityforms.com/category/developers/hooks/filters/addon-framework-filters/)
      - [Add-On Filters](https://docs.gravityforms.com/category/developers/hooks/filters/filters-addons/)
      - [Admin Dashboard Filters](https://docs.gravityforms.com/category/developers/hooks/filters/admin-dashboard-filters/)
      - [Calculation Filters](https://docs.gravityforms.com/category/developers/hooks/filters/calculation-filters/)
      - [Conditional Logic Filters](https://docs.gravityforms.com/category/developers/hooks/filters/conditional-logic-filters/)
      - [Confirmation Filters](https://docs.gravityforms.com/category/developers/hooks/filters/confirmation-filters/)        - [gform\_confirmation](https://docs.gravityforms.com/gform_confirmation/ "gform_confirmation")
        - [gform\_confirmation\_actions](https://docs.gravityforms.com/gform_confirmation_actions/ "gform_confirmation_actions")
        - [gform\_confirmation\_anchor](https://docs.gravityforms.com/gform_confirmation_anchor/ "gform_confirmation_anchor")
        - [gform\_confirmation\_loaded](https://docs.gravityforms.com/gform_confirmation_loaded/ "gform_confirmation_loaded")
        - [gform\_confirmation\_settings\_fields](https://docs.gravityforms.com/gform_confirmation_settings_fields/ "gform_confirmation_settings_fields")
        - [gform\_entry\_pre\_handle\_confirmation](https://docs.gravityforms.com/gform_entry_pre_handle_confirmation/ "gform_entry_pre_handle_confirmation")
        - [gform\_get\_form\_confirmation\_filter](https://docs.gravityforms.com/gform_get_form_confirmation_filter/ "gform_get_form_confirmation_filter")
        - [gform\_pre\_confirmation\_save](https://docs.gravityforms.com/gform_pre_confirmation_save/ "gform_pre_confirmation_save")
        - [gform\_sanitize\_confirmation\_message](https://docs.gravityforms.com/gform_sanitize_confirmation_message/ "gform_sanitize_confirmation_message")
        - [gform\_suppress\_confirmation\_redirect](https://docs.gravityforms.com/gform_suppress_confirmation_redirect/ "gform_suppress_confirmation_redirect")
      - [Editor Filters](https://docs.gravityforms.com/category/developers/hooks/filters/editor-filters/)
      - [Entry List Filters](https://docs.gravityforms.com/category/developers/hooks/filters/entry-list-filters/)
      - [Entry Filters](https://docs.gravityforms.com/category/developers/hooks/filters/entry-filters/)
      - [Field Filters](https://docs.gravityforms.com/category/developers/hooks/filters/field-filters/)
      - [Field Framework Filters](https://docs.gravityforms.com/category/developers/hooks/filters/field-framework-filters/)
      - [Form Component Filters](https://docs.gravityforms.com/category/developers/hooks/filters/form-component-filters/)
      - [Form List Filters](https://docs.gravityforms.com/category/developers/hooks/filters/form-list/)
      - [Form Object Filters](https://docs.gravityforms.com/category/developers/hooks/filters/form-object/)
      - [Form Settings Filters](https://docs.gravityforms.com/category/developers/hooks/filters/form-settings-filters/)
      - [Import/Export Filters](https://docs.gravityforms.com/category/developers/hooks/filters/importexport-filters/)
      - [Logging Filters](https://docs.gravityforms.com/category/developers/hooks/filters/logging/)
      - [Merge Tag Filters](https://docs.gravityforms.com/category/developers/hooks/filters/merge-tags/)
      - [Notification Filters](https://docs.gravityforms.com/category/developers/hooks/filters/notification-filters/)
      - [Payment Filters](https://docs.gravityforms.com/category/developers/hooks/filters/payment/)
      - [Post Creation Filters](https://docs.gravityforms.com/category/developers/hooks/filters/post-creation/)
      - [REST API v1 Filters](https://docs.gravityforms.com/category/developers/hooks/filters/rest-api-v1/)
      - [REST API v2 Filters](https://docs.gravityforms.com/category/developers/hooks/filters/rest-api-v2/)
      - [Rich Text Editor Filters](https://docs.gravityforms.com/category/developers/hooks/filters/rich-text-editor/)
      - [Save and Continue Filters](https://docs.gravityforms.com/category/developers/hooks/filters/save-and-continue/)
      - [Script Filters](https://docs.gravityforms.com/category/developers/hooks/filters/script-filters/)
      - [Styling/Theme/CSS Filters](https://docs.gravityforms.com/category/developers/hooks/filters/styling-filters/)
      - [System Status Filters](https://docs.gravityforms.com/category/developers/hooks/filters/system-status/)
      - [Upload Filters](https://docs.gravityforms.com/category/developers/hooks/filters/upload-filters/)
      - [Validation Filters](https://docs.gravityforms.com/category/developers/hooks/filters/validation/)
    - [JavaScript](https://docs.gravityforms.com/category/developers/hooks/javascript/)
    - [Deprecated](https://docs.gravityforms.com/category/developers/hooks/deprecated/)
  - [Data Objects](https://docs.gravityforms.com/category/developers/data-objects/)
  - [PHP API](https://docs.gravityforms.com/category/developers/php-api/)
  - [Database](https://docs.gravityforms.com/category/developers/database/)
  - [Developer Snippets](https://docs.gravityforms.com/category/developers/tutorials/)
  - [REST API](https://docs.gravityforms.com/category/developers/rest-api/)
- [Knowledge Base](https://docs.gravityforms.com/category/knowledge-base/)

# gform\_confirmation

- [Description](https://docs.gravityforms.com/gform_confirmation/#h-description)
- [Usage](https://docs.gravityforms.com/gform_confirmation/#h-usage)
- [Parameters](https://docs.gravityforms.com/gform_confirmation/#h-parameters)
- [Examples](https://docs.gravityforms.com/gform_confirmation/#h-examples)
- [1\. Multiple forms](https://docs.gravityforms.com/gform_confirmation/#h-1-multiple-forms)
- [2\. Send entry data to third-party](https://docs.gravityforms.com/gform_confirmation/#h-2-send-entry-data-to-third-party)
- [3\. Output script with confirmation message](https://docs.gravityforms.com/gform_confirmation/#h-3-output-script-with-confirmation-message)
- [4\. Open the page or redirect in a new tab](https://docs.gravityforms.com/gform_confirmation/#h-4-open-the-page-or-redirect-in-a-new-tab)
- [5\. Customize the message for spam submissions](https://docs.gravityforms.com/gform_confirmation/#h-5-customize-the-message-for-spam-submissions)
- [6\. Modify the confirmation query string](https://docs.gravityforms.com/gform_confirmation/#h-6-modify-the-confirmation-query-string)
- [7\. Redirect to a Post created using the Advanced Post Creation add-on](https://docs.gravityforms.com/gform_confirmation/#h-7-redirect-to-a-post-created-using-the-advanced-post-creation-add-on)
- [Placement](https://docs.gravityforms.com/gform_confirmation/#h-placement)
- [Source Code](https://docs.gravityforms.com/gform_confirmation/#h-source-code)

## Description

This filter can be used to dynamically change the confirmation message or redirect URL for a form.

## Usage

|     |
| --- |
| `add_filter(``'gform_confirmation'``,``'custom_confirmation'``, 10, 4 );` |

You can also specify this per form by adding the form id after the hook name.

|     |
| --- |
| `add_filter(``'gform_confirmation_6'``,``'custom_confirmation'``, 10, 4 );` |

## Parameters

- **$confirmation** [string](https://docs.gravityforms.com/string) \| [array](https://docs.gravityforms.com/array)
The confirmation message/array to be filtered. For a simple confirmation message, set this variable to the message you would like displayed on the screen. To redirect the page to a URL, set this variable to an array in the following format:
`$confirmation = array( 'redirect' => 'http://www.google.com' );`
- **$form** [Form Object](https://docs.gravityforms.com/form-object)
The current form.

- **$entry** [Entry Object](https://docs.gravityforms.com/entry-object)
The current entry.
- **$is\_ajax** [bool](https://docs.gravityforms.com/bool)
Specifies if this form is configured to be submitted via AJAX.


## Examples

### 1\. Multiple forms

This example dynamically changes the confirmation message for form 102 and set form 101 to redirect to www.google.com.

|     |     |
| --- | --- |
| 1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9 | `add_filter(``'gform_confirmation'``,``'custom_confirmation'``, 10, 4 );`<br>`function``custom_confirmation(``$confirmation``,``$form``,``$entry``,``$ajax``) {`<br>```if``(``$form``[``'id'``] ==``'101'``) {`<br>```$confirmation``=``array``(``'redirect'``=>``'http://www.google.com'``);`<br>```}``elseif``(``$form``[``'id'``] ==``'102'``) {`<br>```$confirmation``=``"Thanks for contacting us. We will get in touch with you soon"``;`<br>```}`<br>```return``$confirmation``;`<br>`}` |

### 2\. Send entry data to third-party

This example demonstrates a simple approach to posting submitted entry data to a third-party application. You could even assign some part of the response to the `$confirmation` message.

|     |     |
| --- | --- |
| 1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16 | `add_filter(``'gform_confirmation'``,``'post_to_third_party'``, 10, 3 );`<br>`function``post_to_third_party(``$confirmation``,``$form``,``$entry``) {`<br>```$post_url``=``'http://thirdparty.com'``;`<br>```$body``=``array``(`<br>```'first_name'``=> rgar(``$entry``,``'1.3'``),`<br>```'last_name'``=> rgar(``$entry``,``'1.6'``),`<br>```'message'``=> rgar(``$entry``,``'3'``),`<br>```);`<br>```GFCommon::log_debug(``'gform_confirmation: body => '``. print_r(``$body``, true ) );`<br>```$response``= wp_remote_post(``$post_url``,``array``(``'body'``=>``$body``) );`<br>```GFCommon::log_debug(``'gform_confirmation: response => '``. print_r(``$response``, true ) );`<br>```return``$confirmation``;`<br>`}` |

### 3\. Output script with confirmation message

The following example shows how you can output a script along with the form confirmation message.

|     |     |
| --- | --- |
| 1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16 | `// Change 3 in the following line to your form id number or remove _3 to run it for all forms.`<br>`add_filter(``'gform_confirmation_3'``,``'gf_confirmation_add_script'``, 10, 4 );`<br>`function``gf_confirmation_add_script(``$confirmation``,``$form``,``$entry``,``$ajax``) {`<br>```GFCommon::log_debug(``__METHOD__``.``'(): Running...'``);`<br>```if``( !``is_string``(``$confirmation``) ) {`<br>```return``$confirmation``;`<br>```}`<br>```// Replace the content of this variable with your script code.`<br>```$script``=``"window.top.jQuery(document).on('gform_confirmation_loaded', function () { console.log('gform_confirmation_loaded running'); } );"``;`<br>```$confirmation``.= GFCommon::get_inline_script_tag(``$script``);`<br>```GFCommon::log_debug(``__METHOD__``.``'(): Custom Confirmation: '``. print_r(``$confirmation``, true ) );`<br>```return``$confirmation``;`<br>`}` |

Note: This example also uses [gform\_confirmation\_loaded](https://docs.gravityforms.com/gform_confirmation_loaded/), so AJAX must be enabled in your form.

### 4\. Open the page or redirect in a new tab

The following example shows how you can open the “page” or “redirect” type confirmation in a new tab. You need to update the `$forms` array with the `id` number of the form(s) that you want to target.

Note that it’s up to the browser to allow the new window/tab from being opened or not. We can’t do anything to bypass browser restrictions.

|     |     |
| --- | --- |
| 1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16 | `add_filter(``'gform_confirmation'``,``function``(``$confirmation``,``$form``,``$entry``,``$ajax``) {`<br>```GFCommon::log_debug(``'gform_confirmation: running.'``);`<br>```$forms``=``array``( 3, 6, 7 );``// Target forms with id 3, 6 and 7. Change this to fit your needs.`<br>```if``( ! in_array(``$form``[``'id'``],``$forms``) ||``empty``(``$confirmation``[``'redirect'``] ) ) {`<br>```return``$confirmation``;`<br>```}`<br>```$url``= esc_url_raw(``$confirmation``[``'redirect'``] );`<br>```GFCommon::log_debug(``__METHOD__``.``'(): Redirect to URL: '``.``$url``);`<br>```$confirmation``=``'Thanks for contacting us! We will get in touch with you shortly.'``;`<br>```$confirmation``.= GFCommon::get_inline_script_tag(``"window.open('$url', '_blank');"``);`<br>```return``$confirmation``;`<br>`}, 10, 4 );` |

Note: `$confirmation['redirect']` is used for both “page” and “redirect” type confirmations.

### 5\. Customize the message for spam submissions

The following example shows how you can change the confirmation message returned when the form fails honeypot validation or is marked as spam.

|     |     |
| --- | --- |
| 1<br>2<br>3<br>4<br>5<br>6<br>7<br>8 | `add_filter(``'gform_confirmation'``,``function``(``$confirmation``,``$form``,``$entry``) {`<br>```if``(``empty``(``$entry``) || rgar(``$entry``,``'status'``) ===``'spam'``) {`<br>```return``'The message to be displayed.'``;`<br>```}`<br>```return``$confirmation``;`<br>`}, 11, 3 );` |

The following example shows how to use the form’s configured confirmation when the submission is marked as spam.

|     |     |
| --- | --- |
| 1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14 | `add_filter(``'gform_confirmation'``,``'filter_spam_confirmation'``, 11, 4 );`<br>`function``filter_spam_confirmation(``$confirmation``,``$form``,``$entry``,``$is_ajax``) {`<br>```if``( rgar(``$entry``,``'status'``) !==``'spam'``) {`<br>```return``$confirmation``;`<br>```}`<br>```$entry``[``'status'``] =``'active'``;`<br>```remove_filter(``'gform_confirmation'``,``'filter_spam_confirmation'``, 11 );`<br>```$confirmation``= GFFormDisplay::handle_confirmation(``$form``,``$entry``,``$is_ajax``);`<br>```add_filter(``'gform_confirmation'``,``'filter_spam_confirmation'``, 11, 4 );`<br>```return``$confirmation``;`<br>`}` |

### 6\. Modify the confirmation query string

This example shows how you can replace the comma-separated value of a Multi Select type field in the confirmation query string with an array.

|     |     |
| --- | --- |
| 1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14 | `add_filter(``'gform_confirmation'``,``function``(``$confirmation``,``$form``,``$entry``) {`<br>```if``( !``is_array``(``$confirmation``) ||``empty``(``$confirmation``[``'redirect'``] ) ) {`<br>```return``$confirmation``;`<br>```}`<br>```/** @var GF_Field_MultiSelect $field */`<br>```$field_id``= 1;`<br>```$field``= GFAPI::get_field(``$form``,``$field_id``);`<br>```$values``=``$field``->to_array( rgar(``$entry``,``$field``->id ) );`<br>```$confirmation``[``'redirect'``] = add_query_arg(``array``(``'your_param_name'``=>``$values``),``$confirmation``[``'redirect'``] );`<br>```return``$confirmation``;`<br>`}, 11, 3 );` |

### 7\. Redirect to a Post created using the Advanced Post Creation add-on

This example shows how you can redirect the user to a post created after submission, you need to change 1937 in the filter name to your form id number.

|     |     |
| --- | --- |
| 1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16 | `add_filter(``'gform_confirmation_1937'``,``'gf_redirect_to_apc_post'``, 10, 4 );`<br>`function``gf_redirect_to_apc_post(``$confirmation``,``$form``,``$entry``,``$ajax``) {`<br>```GFCommon::log_debug(``__METHOD__``.``'(): Running...'``);`<br>```$created_posts``= gform_get_meta(``$entry``[``'id'``],``'gravityformsadvancedpostcreation_post_id'``);`<br>```foreach``(``$created_posts``as``$post``) {`<br>```$redirect_url``= get_permalink(``$post``[``'post_id'``] );`<br>```}`<br>```if``( !``empty``(``$redirect_url``) ) {`<br>```$confirmation``=``array``(``'redirect'``=>``$redirect_url``);`<br>```GFCommon::log_debug(``__METHOD__``.``'(): Redirect URL set to => '``.``$redirect_url``);`<br>```}`<br>```return``$confirmation``;`<br>`}` |

## Placement

This code should be placed in the [functions.php](https://codex.wordpress.org/Theme_Development#Functions_File) file of your active theme.

## Source Code

This filter is located in GFFormDisplay::handle\_confirmation() in _form\_display.php_.

- Phone


This field is for validation purposes and should be left unchanged.

- Was this article helpful?

- How we can improve it?

- Please [open a support ticket](https://www.gravityforms.com/open-support-ticket/) if you need technical support or want to report a bug. Product feedback, feature and integration requests, and other functionality ideas can be submitted on our [Product Roadmap page](https://www.gravityforms.com/gravity-forms-roadmap/?c=submit-idea).


Δ

Last modified: March 25, 2024

© Copyright 2008 - 2025 Rocketgenius, Inc

[Return to Gravity Forms](https://www.gravityforms.com/)

Notifications

[Algolia](https://docs.gravityforms.com/gform_confirmation/# "Algolia")

![](https://docs.gravityforms.com/wp-content/plugins/wpfront-scroll-top/includes/assets/icons/1.png)