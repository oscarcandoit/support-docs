---
url: "https://docs.gravityforms.com/advanced-post-creation-add-on-using-third-party-post-types/"
title: "Third-Party Post Types with Gravity Add-On"
---

[![Gravity Forms Documentation](https://docs.gravityforms.com/wp-content/uploads/2023/09/logo.svg)](https://docs.gravityforms.com/) [![Gravity Forms Documentation](https://docs.gravityforms.com/wp-content/uploads/2024/08/gf-print_logo.svg)](https://docs.gravityforms.com/)

- [User Guides](https://docs.gravityforms.com/category/user-guides/)
- [Developer](https://docs.gravityforms.com/category/developers/)
- [Blog](https://www.gravityforms.com/blog/)
- [Changelog](https://docs.gravityforms.com/gravityforms-change-log/)

```

```

Toggle Menu

- [Getting Started](https://docs.gravityforms.com/category/getting-started/)
- [Your Gravity Forms Account](https://docs.gravityforms.com/category/your-gravity-forms-account/)
- [User Guides](https://docs.gravityforms.com/category/user-guides/)
- [Gravity Forms 2.9](https://docs.gravityforms.com/category/gravity-forms-2-9/)
- [Gravity Forms 2.8](https://docs.gravityforms.com/category/gravity-forms-2-8/)
- [Add-Ons](https://docs.gravityforms.com/category/add-ons-gravity-forms/)  - [Add-On Basics](https://docs.gravityforms.com/category/add-ons-gravity-forms/add-on-basics/)
  - [2Checkout Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/2checkout-add-on/)
  - [ActiveCampaign Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/activecampaign-add-on/)
  - [Advanced Post Creation Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/advanced-post-creation-add-on/)    - [Setting Up the Advanced Post Creation Add-On](https://docs.gravityforms.com/setting-up-the-advanced-post-creation-add-on/ "Setting Up the Advanced Post Creation Add-On")
    - [Advanced Post Creation vs Post Fields](https://docs.gravityforms.com/advanced-post-creation-vs-post-fields/ "Advanced Post Creation vs Post Fields")
    - [Creating a Feed for the Advanced Post Creation Add-On](https://docs.gravityforms.com/creating-a-feed-for-the-advanced-post-creation-add-on/ "Creating a Feed for the Advanced Post Creation Add-On")
    - [Advanced Post Creation Add-On Using Third-Party Post Types](https://docs.gravityforms.com/advanced-post-creation-add-on-using-third-party-post-types/ "Advanced Post Creation Add-On Using Third-Party Post Types")
    - [Advanced Post Creation Changelog](https://docs.gravityforms.com/advanced-post-creation-change-log/ "Advanced Post Creation Changelog")
  - [Agile CRM Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/agile-crm-add-on/)
  - [Akismet Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/akismet-add-on/)
  - [Authorize.Net Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/authorize-net-add-on/)
  - [AWeber Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/aweber-add-on/)
  - [Breeze Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/breeze-add-on/)
  - [Brevo Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/brevo-add-on/)
  - [Campaign Monitor Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/campaign-monitor-add-on/)
  - [Capsule CRM Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/capsule-crm-add-on/)
  - [Chained Selects Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/chained-selects/)
  - [CleverReach Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/cleverreach-add-on/)
  - [Cloudflare Turnstile Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/cloudflare-turnstile/)
  - [Constant Contact Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/constant-contact-add-on/)
  - [Conversational Forms Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/conversational-forms/)
  - [Coupons Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/coupons-add-on/)
  - [Dropbox Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/dropbox-add-on/)
  - [EmailOctopus Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/emailoctopus-add-on/)
  - [Emma Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/emma-add-on/)
  - [Geolocation Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/add-ons-geolocation/)
  - [GetResponse Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/getresponse-add-on/)
  - [Google Analytics Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/google-analytics-add-on/)
  - [Help Scout Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/help-scout-add-on/)
  - [HipChat Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/hipchat-add-on/)
  - [HubSpot Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/hubspot/)
  - [iContact Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/icontact-add-on/)
  - [Kit Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/kit-add-on/)
  - [Mad Mimi Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/mad-mimi-add-on/)
  - [Mailchimp Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/mailchimp-add-on/)
  - [MailerLite Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/mailerlite/)
  - [Mailgun Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/mailgun-add-on/)
  - [Moderation Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/add-ons-moderation/)
  - [Mollie Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/mollie-add-on/)
  - [Partial Entries Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/partial-entries-add-on/)
  - [PayPal Add-Ons](https://docs.gravityforms.com/category/add-ons-gravity-forms/paypal-add-ons/)
  - [Pipe Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/pipe-add-on/)
  - [Polls Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/polls-add-on/)
  - [Postmark Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/postmark-add-on/)
  - [Quiz Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/quiz-add-on/)
  - [reCAPTCHA Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/recaptcha-add-on/)
  - [Salesforce Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/salesforce-add-on/)
  - [SendGrid Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/sendgrid-add-on/)
  - [Signature Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/signature-add-on/)
  - [Slack Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/slack-add-on/)
  - [Square Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/square-add-on/)
  - [Stripe Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/stripe-add-on/)
  - [Survey Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/survey-add-on/)
  - [Trello Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/trello-add-on/)
  - [Twilio Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/twilio-add-on/)
  - [User Registration Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/user-registration-add-on/)
  - [Webhooks Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/webhooks-add-on/)
  - [WP-CLI Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/wp-cli-add-on/)
  - [Zapier Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/zapier-add-on/)
  - [Zoho CRM Add-On](https://docs.gravityforms.com/category/add-ons-gravity-forms/zoho-crm-add-on/)
- [Developers](https://docs.gravityforms.com/category/developers/)
- [Knowledge Base](https://docs.gravityforms.com/category/knowledge-base/)

# Advanced Post Creation Add-On Using Third-Party Post Types

- [Introduction](https://docs.gravityforms.com/advanced-post-creation-add-on-using-third-party-post-types/#h-introduction)
- [Creating Products for WooCommerce](https://docs.gravityforms.com/advanced-post-creation-add-on-using-third-party-post-types/#h-creating-products-for-woocommerce)
- [Create the Form](https://docs.gravityforms.com/advanced-post-creation-add-on-using-third-party-post-types/#h-create-the-form)
- [Create the Advanced Post Creation Feed](https://docs.gravityforms.com/advanced-post-creation-add-on-using-third-party-post-types/#h-create-the-advanced-post-creation-feed)
- [Handling Fields Unable to be Mapped](https://docs.gravityforms.com/advanced-post-creation-add-on-using-third-party-post-types/#h-handling-fields-unable-to-be-mapped)
- [Price](https://docs.gravityforms.com/advanced-post-creation-add-on-using-third-party-post-types/#h-price)
- [Category](https://docs.gravityforms.com/advanced-post-creation-add-on-using-third-party-post-types/#h-category)
- [Populating Drop Down with Product Categories](https://docs.gravityforms.com/advanced-post-creation-add-on-using-third-party-post-types/#h-populating-drop-down-with-product-categories)
- [Creating Events for The Events Calendar](https://docs.gravityforms.com/advanced-post-creation-add-on-using-third-party-post-types/#h-creating-events-for-the-events-calendar)
- [Create the Form](https://docs.gravityforms.com/advanced-post-creation-add-on-using-third-party-post-types/#h-create-the-form-1)
- [Create the Advanced Post Creation Feed](https://docs.gravityforms.com/advanced-post-creation-add-on-using-third-party-post-types/#h-create-the-advanced-post-creation-feed-1)
- [Handling Fields Unable to be Mapped](https://docs.gravityforms.com/advanced-post-creation-add-on-using-third-party-post-types/#h-handling-fields-unable-to-be-mapped-1)
- [Populating Drop Down with Event Categories](https://docs.gravityforms.com/advanced-post-creation-add-on-using-third-party-post-types/#h-populating-drop-down-with-event-categories)
- [Matching up Images with Advanced Custom Fields (ACF) or other Custom Fields](https://docs.gravityforms.com/advanced-post-creation-add-on-using-third-party-post-types/#h-matching-up-images-with-advanced-custom-fields-acf-or-other-custom-fields)
- [Make sure the Field is copied to the Media Library](https://docs.gravityforms.com/advanced-post-creation-add-on-using-third-party-post-types/#h-make-sure-the-field-is-copied-to-the-media-library)
- [Map the Image Field to the Custom Field](https://docs.gravityforms.com/advanced-post-creation-add-on-using-third-party-post-types/#h-map-the-image-field-to-the-custom-field)

## Introduction

One of the features of the [Advanced Post Creation Add-On](https://docs.gravityforms.com/advanced-post-creation-add-on) allows posts to be created upon form submission for third-party post types. This articles provides a guide on how to use Advanced Post Creation with the plugins [WooCommerce](https://woocommerce.com/), to create Products, and [The Events Calendar](https://theeventscalendar.com/product/wordpress-events-calendar/), to create Events.

Note: This article assumes you have installed and activated the required plugins. If not, you will need to do so before any of the functionality in this article can be used.

## Creating Products for WooCommerce

### Create the Form

Several pieces of information need to be captured to create a Product. Below captures some basic information.

| Field Type | Label | Other Settings |
| --- | --- | --- |
| [Drop Down](https://docs.gravityforms.com/drop-down/) | Category | See [Populating Drop Down with Product Categories](https://docs.gravityforms.com/advanced-post-creation-add-on-using-third-party-post-types/#populate_dd) below for details. |
| [Single Line Text](https://docs.gravityforms.com/single-line-text/) | Product Name |  |
| [Paragraph](https://docs.gravityforms.com/paragraph-text/) | Description |  |
| [Number](https://docs.gravityforms.com/number/) | Price | Set the number format to currency |
| [File Upload](https://docs.gravityforms.com/file-upload/) | Product Image |  |

### Create the Advanced Post Creation Feed

For more details about how to create the feed, review the [Creating A Feed For The Advanced Post Creation Add-On](https://docs.gravityforms.com/creating-a-feed-for-the-advanced-post-creation-add-on) article.

1. Expand the drop down for **Type** in the **Post Settings** section and select **Product**.


[![](https://docs.gravityforms.com/wp-content/uploads/2021/07/CleanShot-2021-07-08-at-12.11.41.png)](https://docs.gravityforms.com/wp-content/uploads/2021/07/CleanShot-2021-07-08-at-12.11.41.png)

2. Scroll to the **Post Content** section and map the **Title** to the **Product Name** field.
3. Map the **Content** to the **Description** field.
4. Map the **Featured Image** to a [File Upload](https://docs.gravityforms.com/file-upload/) field labeled **Image**. If the File Upload field is not present on your form this field will not appear in Post Creation settings.

[![](https://docs.gravityforms.com/wp-content/uploads/2021/07/image-22.png)](https://docs.gravityforms.com/wp-content/uploads/2021/07/image-22.png)

5. Click **Save Settings**.

Note: The Price and Category will be handled separately because they cannot be directly mapped.

### Handling Fields Unable to be Mapped

Not all fields needed for the product can directly be mapped in the feed. The [gform\_advancedpostcreation\_post\_after\_creation](https://docs.gravityforms.com/gform_advancedpostcreation_post_after_creation) action hook will be used to update the **Price** and **Category** for the product. Below are examples for two of the Product fields which need to be handled specially.

For more details about the hook parameters, placement, and usage, see the documentation for the [gform\_advancedpostcreation\_post\_after\_creation](https://docs.gravityforms.com/gform_advancedpostcreation_post_after_creation) hook mentioned above.

#### Price

The price information is stored in the **wp\_post\_meta** table and the [update\_post\_meta()](https://codex.wordpress.org/Function_Reference/update_post_meta) function will be used to save this information.

#### Category

The product category utilizes multiple WordPress taxonomy and term database tables and the [wp\_set\_object\_terms()](https://codex.wordpress.org/Function_Reference/wp_set_object_terms) function will be used to save this information.

The example below updates the **Price** using the value stored in field 7 of the entry. The **Category** is updated using the value stored in field 6 of the entry.

```
add_action( 'gform_advancedpostcreation_post_after_creation', 'update_product_information', 10, 4 );
function update_product_information( $post_id, $feed, $entry, $form ){

    //update the prices set for the product
    update_post_meta( $post_id, '_regular_price', $entry['7'] );
    update_post_meta( $post_id, '_price', $entry['7'] );

    //update the category
    wp_set_object_terms( $post_id, $entry['6'], 'product_cat' );

}
```

### Populating Drop Down with Product Categories

Note: This example expects the product categories to not have children. If there are child categories, the example will need to be modified as needed.

Several filters are needed to populate the drop down. The article [Dynamically Populating Drop Down Or Radio Buttons Fields](https://docs.gravityforms.com/dynamically-populating-drop-down-or-radio-buttons-fields) has more information. The filters used are:

- [gform\_pre\_render](https://docs.gravityforms.com/gform_pre_render)
- [gform\_pre\_submission\_filter](https://docs.gravityforms.com/gform_pre_submission_filter)
- [gform\_admin\_pre\_render](https://docs.gravityforms.com/gform_admin_pre_render)
- [gform\_pre\_validation](https://docs.gravityforms.com/gform_pre_validation)

|     |     |
| --- | --- |
| 1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29 | `add_filter(``'gform_pre_render_83'``,``'populate_dropdown_with_product_categories'``);`<br>`add_filter(``'gform_pre_submission_filter_83'``,``'populate_dropdown_with_product_categories'``);`<br>`add_filter(``'gform_admin_pre_render_83'``,``'populate_dropdown_with_product_categories'``);`<br>`add_filter(``'gform_pre_validation_83'``,``'populate_dropdown_with_product_categories'``);`<br>`function``populate_dropdown_with_product_categories(``$form``) {`<br>```//product_cat is the taxonomy for WooCommerce's products`<br>```//get the terms for the product_cat taxonomy`<br>```$product_categories``= get_terms(``'product_cat'``);`<br>```//Creating drop down item array.`<br>```$items``=``array``();`<br>```//Adding initial blank value.`<br>```$items``[] =``array``(``'text'``=>``''``,``'value'``=>``''``);`<br>```//Adding product category terms to the items array`<br>```foreach``(``$product_categories``as``$product_category``) {`<br>```$items``[] =``array``(``'value'``=>``$product_category``->name,``'text'``=>``$product_category``->name );`<br>```}`<br>```//Adding items to field id 6. Replace 6 with your actual field id. You can get the field id by looking at the input name in the markup.`<br>```foreach``(``$form``[``'fields'``]``as``&``$field``) {`<br>```if``(``$field``->id == 6 ) {`<br>```$field``->choices =``$items``;`<br>```}`<br>```}`<br>```return``$form``;`<br>`}` |

## Creating Events for The Events Calendar

### Create the Form

Several pieces of information need to be captured to create an Event. Below captures some basic information.

Create a new form and add the following fields.

| Type | Label | Other Settings |
| --- | --- | --- |
| Drop Down | Category | See [Populating Drop Down with Event Categories](https://docs.gravityforms.com/advanced-post-creation-add-on-using-third-party-post-types/#populate_dd_event) below for details. |
| Single Line Text | Event Title |  |
| Paragraph | Event Description |  |
| Checkboxes | Event Options | Choices: All Day, Hide From Event Listings, Sticky in Month View, Feature Event |
| Date | Start Date |  |
| Time | Start Time | Conditional Logic: Show field if **Event Options** is not **All Day** |
| Date | End Date |  |
| Time | End Time | Conditional Logic: Show field if **Event Options** is not **All Day** |

### Create the Advanced Post Creation Feed

For more details about how to create the feed, review the [Creating A Feed For The Advanced Post Creation Add-On](https://docs.gravityforms.com/creating-a-feed-for-the-advanced-post-creation-add-on) article.

1. Expand the drop down for **Type** in the **Post Settings** section and select **Event**.


[![](https://docs.gravityforms.com/wp-content/uploads/2021/07/image-21.png)](https://docs.gravityforms.com/wp-content/uploads/2021/07/image-21.png)

2. Scroll to the **Post Content** section and map the **Title** to the **Event Title** field.
3. Map the **Content** to the **Event Description** field.
4. In the Custom Fields section, in the dropdown “Select a Custom Field Name” scroll to the bottom of the list and enter this custom field name: **\_EventStartDate**. Map that to the **Start Date** field in your form. Repeat for the custom field name **\_EventEndDate** and map that custom field to the **End Date** field in your form.



![](https://docs.gravityforms.com/wp-content/uploads/2022/04/event-start-and-end-date-custom-fields-1-1024x243.png)Mapping custom fields for the event start date and event end date
5. Scroll to the **Taxonomies** section and map the **Event Categories** to **Field Value** and **Category** field.


![](https://docs.gravityforms.com/wp-content/uploads/2021/07/image-23.png)Mapping taxonomy field for event category

6. Click **Save Settings**.

### Handling Fields Unable to be Mapped

Not all fields needed for the event can directly be mapped in the feed. The [gform\_advancedpostcreation\_post\_after\_creation](https://docs.gravityforms.com/gform_advancedpostcreation_post_after_creation) action hook will be used to update these fields. Below are examples of several fields which need to be handled specially.

See the article mentioned above for more details about the hook parameters, placement, and usage.

|     |     |
| --- | --- |
| 1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32 | `add_action(``'gform_advancedpostcreation_post_after_creation'``,``'update_event_information'``, 10, 4 );`<br>`function``update_event_information(``$post_id``,``$feed``,``$entry``,``$form``){`<br>```//update the All Day setting`<br>```$all_day``=``$entry``[``'9.1'``];`<br>```if``(``$all_day``==``'All Day'``){`<br>```update_post_meta(``$post_id``,``'_EventAllDay'``,``'yes'``);`<br>```}`<br>``<br>```//update the Hide From Monthly View Setting`<br>```$hide``=``$entry``[``'9.2'``];`<br>```if``(``$hide``==``'Hide From Event Listings'``) {`<br>```update_post_meta(``$post_id``,``'_EventHideFromUpcoming'``,``'yes'``);`<br>```}`<br>``<br>```//update the Sticky in Month View setting`<br>```$sticky``=``$entry``[``'9.3'``];`<br>```if``(``$sticky``==``'Sticky in Month View'``){`<br>```wp_update_post(``array``(``'ID'``=>``$post_id``,``'menu_order'``=>``'-1'``) );`<br>```}`<br>```else``{`<br>```wp_update_post(``array``(``'ID'``=>``$post_id``,``'menu_order'``=>``'0'``) );`<br>```}`<br>``<br>```//update the Feature Event setting`<br>```$feature``=``$entry``[``'9.4'``];`<br>```if``(``$feature``==``'Feature Event'``){`<br>```update_post_meta(``$post_id``,``'_tribe_featured'``,``'1'``);`<br>```}`<br>```else``{`<br>```update_post_meta(``$post_id``,``'_tribe_featured'``,``'0'``);`<br>```}`<br>`}` |

### Populating Drop Down with Event Categories

Several filters are needed to populate the drop down. The article [Dynamically Populating Drop Down Or Radio Buttons Fields](https://docs.gravityforms.com/dynamically-populating-drop-down-or-radio-buttons-fields) has more information. The filters used are:

- [gform\_pre\_render](https://docs.gravityforms.com/gform_pre_render)
- [gform\_pre\_submission\_filter](https://docs.gravityforms.com/gform_pre_submission_filter)
- [gform\_admin\_pre\_render](https://docs.gravityforms.com/gform_admin_pre_render)
- [gform\_pre\_validation](https://docs.gravityforms.com/gform_pre_validation)

|     |     |
| --- | --- |
| 1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28 | `//target form 80 (change to your form id)`<br>`add_filter(``'gform_pre_render_80'``,``'populate_dropdown_with_event_categories'``);`<br>`add_filter(``'gform_pre_submission_filter_80'``,``'populate_dropdown_with_event_categories'``);`<br>`add_filter(``'gform_admin_pre_render_80'``,``'populate_dropdown_with_event_categories'``);`<br>`add_filter(``'gform_pre_validation_80'``,``'populate_dropdown_with_event_categories'``);`<br>`function``populate_dropdown_with_event_categories(``$form``) {`<br>```$event_categories``= get_terms(``array``(``'taxonomy'``=>``'tribe_events_cat'``,``'hide_empty'``=>0 ) );`<br>```//Creating drop down item array.`<br>```$items``=``array``();`<br>```//Adding initial blank value.`<br>```$items``[] =``array``(``'text'``=>``''``,``'value'``=>``''``);`<br>``<br>```//Adding product category terms to the items array`<br>```foreach``(``$event_categories``as``$event_category``) {`<br>```$items``[] =``array``(``'value'``=>``$event_category``->name,``'text'``=>``$event_category``->name );`<br>```}`<br>```//Adding items to field id 10. Replace 10 with your actual field id. You can get the field id by looking at the input name in the markup.`<br>```foreach``(``$form``[``'fields'``]``as``&``$field``) {`<br>```if``(``$field``->id == 10 ) {`<br>```$field``->choices =``$items``;`<br>```}`<br>```}`<br>```return``$form``;`<br>`}` |

## Matching up Images with Advanced Custom Fields (ACF) or other Custom Fields

When images are stored in Custom Fields, they are written into Custom Post Meta with a value of the ID (or an array of IDs) that link to the Image in the Media Library. In order to properly map an Image Custom Field to an Upload Field added from Gravity Forms, you need to [use the {apc\_media} merge tag](https://docs.gravityforms.com/apc_media-merge-tag/) in the Custom Field Mapping for the Advanced Post Creation Feed.

### Make sure the Field is copied to the Media Library

The file will not be available to be mapped properly to the Custom Meta if you don’t also copy that file to the Media Library. As long as you have added your image field as a [File Upload Field](https://docs.gravityforms.com/file-upload-field/), it will be available to copy the field to the Media Library. This will make sure that the field has a Post ID that is the ‘Image ID’ in ACF and other Custom Field plugins.

### Map the Image Field to the Custom Field

You will need to perform this step for each image field you’re adding.

1. Under Custom Fields, Add a field mapping for your Image field. Select the ‘name’ of the field under Name.
2. Under Value, Select “Add a Custom Value”
3. Use the Merge Tag Tool to select your Image Field to place it’s merge tag in the Value
4. Replace the “Field Name” in the Merge tag with the apc\_media merge tag action
5. Add ids or urls as the return type to the end of your image tag

- Company


This field is for validation purposes and should be left unchanged.

- Was this article helpful?

- How we can improve it?

- Please [open a support ticket](https://www.gravityforms.com/open-support-ticket/) if you need technical support or want to report a bug. Product feedback, feature and integration requests, and other functionality ideas can be submitted on our [Product Roadmap page](https://www.gravityforms.com/gravity-forms-roadmap/?c=submit-idea).


Δ

Last modified: August 8, 2023

© Copyright 2008 - 2025 Rocketgenius, Inc

[Return to Gravity Forms](https://www.gravityforms.com/)

Notifications

[Algolia](https://docs.gravityforms.com/advanced-post-creation-add-on-using-third-party-post-types/# "Algolia")

![](https://docs.gravityforms.com/wp-content/plugins/wpfront-scroll-top/includes/assets/icons/1.png)