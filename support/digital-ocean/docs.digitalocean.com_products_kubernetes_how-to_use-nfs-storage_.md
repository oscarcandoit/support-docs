---
url: "https://docs.digitalocean.com/products/kubernetes/how-to/use-nfs-storage/"
title: "How to Use NFS Storage with Kubernetes Clusters | DigitalOcean Documentation"
---

- [DigitalOcean \| Docs](https://docs.digitalocean.com/)

- [Platform](https://docs.digitalocean.com/platform/)
- [Products](https://docs.digitalocean.com/products/)
- [Reference](https://docs.digitalocean.com/reference/)
- [Support](https://docs.digitalocean.com/support/)
- [Sign Up](https://cloud.digitalocean.com/registrations/new)

- [![](https://docs.digitalocean.com/images/icons/kubernetes.5c9f5538fc3c9db4ddd19b3b4c2166c4e06a899c3582345cc892b570bd214072.svg)Kubernetes](https://docs.digitalocean.com/products/kubernetes/)
- [Getting Started](https://docs.digitalocean.com/products/kubernetes/getting-started/)
  - [Quickstart](https://docs.digitalocean.com/products/kubernetes/getting-started/quickstart/)
  - [Deploy Image to Cluster](https://docs.digitalocean.com/products/kubernetes/getting-started/deploy-image-to-cluster/)
  - [Set Up Operational Readiness](https://docs.digitalocean.com/products/kubernetes/getting-started/operational-readiness/)
- [How-Tos](https://docs.digitalocean.com/products/kubernetes/how-to/)
  - [Create Clusters](https://docs.digitalocean.com/products/kubernetes/how-to/create-clusters/)
  - [Connect to a Cluster](https://docs.digitalocean.com/products/kubernetes/how-to/connect-to-cluster/)
  - [Add Node Pools](https://docs.digitalocean.com/products/kubernetes/how-to/add-node-pools/)
  - [Enable Autoscaling](https://docs.digitalocean.com/products/kubernetes/how-to/autoscale/)
  - [Configure Multi-Node GPU Nodes](https://docs.digitalocean.com/products/kubernetes/how-to/configure-multinode-gpus/)
  - [Manage 1-Click Apps](https://docs.digitalocean.com/products/kubernetes/how-to/manage-1click-apps/)
  - [Back Up Managed Kubernetes Resources](https://docs.digitalocean.com/products/snapshooter/how-to/back-up-doks/)
  - [Destroy Clusters](https://docs.digitalocean.com/products/kubernetes/how-to/destroy-clusters/)
  - [Enable High Availability](https://docs.digitalocean.com/products/kubernetes/how-to/enable-high-availability/)
  - [Integrate with Container Registry](https://docs.digitalocean.com/products/kubernetes/how-to/integrate-with-docr/)
  - [Add Volumes](https://docs.digitalocean.com/products/kubernetes/how-to/add-volumes/)
  - [Delete Volumes](https://docs.digitalocean.com/products/kubernetes/how-to/delete-volumes/)
  - [Restore Volumes](https://docs.digitalocean.com/products/kubernetes/how-to/restore-volumes/)
  - [Use NFS Storage](https://docs.digitalocean.com/products/kubernetes/how-to/use-nfs-storage/)
  - [Import DigitalOcean Snapshots](https://docs.digitalocean.com/products/kubernetes/how-to/import-snapshot/)
  - [Create Snapshots](https://docs.digitalocean.com/products/kubernetes/how-to/create-snapshots/)
  - [Add Load Balancers](https://docs.digitalocean.com/products/kubernetes/how-to/add-load-balancers/)
  - [Configure Load Balancers](https://docs.digitalocean.com/products/kubernetes/how-to/configure-load-balancers/)
  - [Migrate Load Balancers](https://docs.digitalocean.com/products/kubernetes/how-to/migrate-load-balancers/)
  - [Delete Load Balancers](https://docs.digitalocean.com/products/kubernetes/how-to/delete-load-balancers/)
  - [Use Routing Agent](https://docs.digitalocean.com/products/kubernetes/how-to/use-routing-agent/)
  - [Use Spaces](https://docs.digitalocean.com/products/kubernetes/how-to/use-spaces/)
  - [Customize Cluster DNS Settings](https://docs.digitalocean.com/products/kubernetes/how-to/customize-coredns/)
  - [Enable Push-to-Deploy](https://docs.digitalocean.com/products/kubernetes/how-to/deploy-using-github-actions/)
  - [View Basic Metrics](https://docs.digitalocean.com/products/kubernetes/how-to/monitor-basic/)
  - [Use Cilium Hubble](https://docs.digitalocean.com/products/kubernetes/how-to/use-cilium-hubble/)
  - [Set Up Advanced Monitoring](https://docs.digitalocean.com/products/kubernetes/how-to/monitor-advanced/)
  - [Forward Logs](https://docs.digitalocean.com/products/kubernetes/how-to/forward-logs/)
  - [Upgrade Clusters](https://docs.digitalocean.com/products/kubernetes/how-to/upgrade-cluster/)
  - [Add Control Plane Firewallsprivate](https://docs.digitalocean.com/products/kubernetes/how-to/add-control-plane-firewall/)
  - [Set RoleBindings for Custom Roles](https://docs.digitalocean.com/products/kubernetes/how-to/set-up-custom-rolebindings/)
  - [Set Up Horizontal Pod Autoscaling](https://docs.digitalocean.com/products/kubernetes/how-to/set-up-autoscaling/)
- [Reference](https://docs.digitalocean.com/products/kubernetes/reference/)
  - [API Reference](https://docs.digitalocean.com/reference/api/digitalocean/#tag/Kubernetes)
  - [CLI Reference](https://docs.digitalocean.com/reference/doctl/reference/kubernetes/cluster/)
- [Concepts](https://docs.digitalocean.com/products/kubernetes/concepts/)
  - [Choosing a Plan](https://docs.digitalocean.com/products/kubernetes/concepts/choosing-a-plan/)
  - [Best Practices](https://docs.digitalocean.com/products/kubernetes/concepts/best-practices/)
- [Details](https://docs.digitalocean.com/products/kubernetes/details/)
  - [Features](https://docs.digitalocean.com/products/kubernetes/details/features/)
  - [Pricing](https://docs.digitalocean.com/products/kubernetes/details/pricing/)
  - [Availability](https://docs.digitalocean.com/products/kubernetes/details/availability/)
  - [Limits](https://docs.digitalocean.com/products/kubernetes/details/limits/)
  - [Changelog](https://docs.digitalocean.com/products/kubernetes/details/changelog/)
  - [Managed Kubernetes](https://docs.digitalocean.com/products/kubernetes/details/managed/)
  - [GPU Worker Nodes](https://docs.digitalocean.com/products/kubernetes/details/supported-gpus/)
  - [Security Information](https://docs.digitalocean.com/products/kubernetes/details/security/)
  - [Service-Level Agreement](https://www.digitalocean.com/sla/doks)
  - [Supported Releases](https://docs.digitalocean.com/products/kubernetes/details/supported-releases/)
  - [Volume Features](https://docs.digitalocean.com/products/kubernetes/details/volume-features/)
- [Support](https://docs.digitalocean.com/products/kubernetes/support/)

- [How-Tos](https://docs.digitalocean.com/products/kubernetes/how-to/)
- Use NFS Storage

[Give Feedback](https://ideas.digitalocean.com/documentation)

# How to Use NFS Storage with Kubernetes Clusters

Validated on 3 Oct 2025 • Last edited on 20 Oct 2025

DigitalOcean Kubernetes (DOKS) is a Kubernetes service with a fully managed control plane, high availability, and autoscaling. DOKS integrates with standard Kubernetes toolchains and DigitalOcean’s load balancers, volumes, CPU and GPU Droplets, API, and CLI.

You can connect your DOKS clusters to a [DigitalOcean NFS Share](https://docs.digitalocean.com/products/nfs/) and use the share for tasks such as AI/ML Kubernetes workloads. For other persistent storage options, see [Add Volumes to Kubernetes Clusters](https://docs.digitalocean.com/products/kubernetes/how-to/add-volumes/).

To use an NFS share with your DOKS cluster, you statically provision a PersistentVolume (PV), bind the PV to a PersistentVolumeClaim (PVC), and then mount the PVC to your workload.

Note
You can create and use NFS shares with DOKS clusters only in regions where [DigitalOcean NFS shares are available](https://docs.digitalocean.com/products/nfs/details/availability/) and only when the cluster and NFS share are on the same VPC network.

## Prerequisites

To connect an existing DOKS cluster to a DigitalOcean NFS share, you need to:

- Create an NFS share. You can provision one using either the [DigitalOcean Control Panel](https://docs.digitalocean.com/products/nfs/how-to/create/) or the [API](https://docs.digitalocean.com/reference/api/digitalocean/#tag/nfs).

- Get the connection details once the share is active.

In the left menu of the control panel, click **Network File Storage** to open the **Network File Storage** page which lists all the NFS shares. Note the server IP address and mount path values in the **Mount Path** column. The server IP address is the value before the `:` and the mount path is the value after the `:`. For example, if the value is `10.128.0.69:/123456/6160d138-60cb-4e61-9ff3-076eebed5c0f`, then the server IP address is `10.128.0.69` and the mount path is `/123456/6160d138-60cb-4e61-9ff3-076eebed5c0f`.

To get the values using the API, send a `GET` request to the `/v2/nfs` endpoint. From the API response, note the host IP address and the mount path. For example:



```js
...
"host": "10.128.0.69",
"mount_path": "/123456/38bc6f86-9927-491a-a7b5-c5627219a0d3",
...
```



The `host` value is the server IP address. The `mount_path` value provides the path to use when configuring your Kubernetes cluster.


## Create PersistentVolume

A [PersistentVolume](https://kubernetes.io/docs/concepts/storage/persistent-volumes) (PV) is a cluster-level resource that registers your DigitalOcean NFS Share with Kubernetes, making it available for use across the entire cluster.

To provision a PV for your NFS share, create the following config file named `nfs-pv.yaml`, replacing the values for `server` and `path` with the `host` and `mount_path` values of your NFS share. The size of the PV should ideally match your share’s size and the `accessModes` must be `ReadWriteMany` to allow multiple pods to read and write to the volume simultaneously.

`nfs-pv.yaml`

```yaml
apiVersion: v1
kind: PersistentVolume
metadata:
 name: do-nfs-pv
 labels:
   type: nfs-model-storage
spec:
 capacity:
 storage: 10Gi
 accessModes:
   - ReadWriteMany
 persistentVolumeReclaimPolicy: Retain
 nfs:
   server: "10.128.0.69"
   path: "/123456/38bc6f86-9927-491a-a7b5-c5627219a0d3"
```

Use `kubectl apply` to create the PV:

```
kubectl apply -f nfs-pv.yaml
```

## Create PersistentVolumeClaim

A [PersistentVolumeClaim](https://kubernetes.io/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims) (PVC) is how your applications request access to the storage made available by the PV.

To provision a PVC for your NFS share, create the following config file named `nfs-pvc.yaml`. The label for the PVC must match the label for your PV to ensure that the PVC binds to the specific NFS PV. The `accessModes` must be `ReadWriteMany` to allow multiple pods to read and write to the PVC simultaneously.

`nfs-pvc.yaml`

```yaml
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
 name: do-nfs-pvc
 namespace: sammy-doks
spec:
 storageClassName: ""
 accessModes:
   - ReadWriteMany
 resources:
   requests:
     storage: 10Gi
 selector:
   matchLabels:
     type: nfs-model-storage
```

In the config file, the `storageClassName` field is set to `""`. This instructs DOKS to find a pre-existing, statically provisioned PV matching the specified PV label and links your PVC directly to your manually configured NFS share. DOKS has built-in [StorageClass](https://kubernetes.io/docs/concepts/storage/storage-classes/) options such as `do-block-storage` that dynamically provision new storage volumes when a PVC requests them. However, in this case, you have already provisioned the storage when creating the PV and therefore do not need DOKS to dynamically provision one.

Use `kubectl apply` to create the PV:

```
kubectl apply -f nfs-pvc.yaml
```

## Mount PVC in Your Workload

After your PVC is bound to the PV, you can mount it to a workload such as Deployment, Pod, or DaemonSet.

The following config file demonstrates how to mount the storage to a pod and write the current date to a log file on the NFS share every 5 seconds.

To mount the volume to the pod and reference your PVC, add the `volumes` section to the specification. The `claimName` field must match the [name you specified for your PVC](https://docs.digitalocean.com/products/kubernetes/how-to/use-nfs-storage/#create-persistentvolumeclaim). Next, add the `volumeMounts` section where the `name` field must match the volume name you specified earlier and the `mountPath` field specifies the path where the volume will be mounted in the container’s filesystem.

`pod-with-nfs.yaml`

```yaml
apiVersion: v1
kind: Pod
metadata:
 name: nfs-test-pod
 namespace: sammy-doks
spec:
   volumes:
     - name: my-nfs-share
       persistentVolumeClaim:
         claimName: do-nfs-pvc
  containers:
    - name: my-app-container
      image: busybox
      command: ["/bin/sh", "-c", "while true; do date >> /data/test.log; sleep 5; done"]
      volumeMounts:
        - name: my-nfs-share
          mountPath: "/data"
```

After you apply this manifest using `kubectl apply -f pod-with-nfs.yaml`, the pod reads from and writes to its `/data` directory, with all files persisting directly on your DigitalOcean NFS Share.

In this article...

- [Prerequisites](https://docs.digitalocean.com/products/kubernetes/how-to/use-nfs-storage/#prerequisites)
- [Create PersistentVolume](https://docs.digitalocean.com/products/kubernetes/how-to/use-nfs-storage/#create-persistentvolume)
- [Create PersistentVolumeClaim](https://docs.digitalocean.com/products/kubernetes/how-to/use-nfs-storage/#create-persistentvolumeclaim)
- [Mount PVC in Your Workload](https://docs.digitalocean.com/products/kubernetes/how-to/use-nfs-storage/#mount-pvc-in-your-workload)

##### Company

- [About](https://www.digitalocean.com/about)
- [Careers](https://www.digitalocean.com/careers)
- [Blog](https://www.digitalocean.com/blog)

##### Docs

- [Docs Home](https://docs.digitalocean.com/)
- [API Reference](https://docs.digitalocean.com/reference/api)
- [CLI Reference](https://docs.digitalocean.com/reference/doctl)
- [Release Notes](https://docs.digitalocean.com/release-notes)
- [Trust Platform](https://www.digitalocean.com/trust)

##### Community

- [Tutorials](https://www.digitalocean.com/community/tutorials)
- [Q&A](https://www.digitalocean.com/community/questions)
- [Write for DOnations](https://www.digitalocean.com/community/pages/write-for-digitalocean)
- [Currents Research](https://www.digitalocean.com/currents)
- [Legal](https://www.digitalocean.com/legal)
- [Code of Conduct](https://www.digitalocean.com/community/pages/code-of-conduct)

##### Support

- [Support Center](https://docs.digitalocean.com/support)
- [Report Abuse](https://www.digitalocean.com/company/contact/abuse)

* * *

Cookie Preferences

© 2025 DigitalOcean, LLC. All rights reserved

### We can't find any results for your search.

Try using different keywords or simplifying your search terms.

Loading...

## Product Docs

### We can't find any results for your search.

Try using different keywords or simplifying your search terms.

## Marketplace

## DigitalOcean Blog

## Community

navigategoexit

This site uses cookies and related technologies, as described in our [privacy policy](https://www.digitalocean.com/legal/privacy-policy/), for purposes that may include site operation, analytics, enhanced user experience, or advertising. You may choose to consent to our use of these technologies, or manage your own preferences. Please visit our [cookie policy](https://www.digitalocean.com/legal/cookie-policy) for more information.

Agree & ProceedDecline AllManage Choices

GenAI Agent - DigitalOcean

![DigitalOcean Docs Agent](https://product-docs.nyc3.cdn.digitaloceanspaces.com/ai-agent-icon.svg)