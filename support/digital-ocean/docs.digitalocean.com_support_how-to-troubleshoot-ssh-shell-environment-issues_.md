---
url: "https://docs.digitalocean.com/support/how-to-troubleshoot-ssh-shell-environment-issues/"
title: "How to Troubleshoot SSH Shell Environment Issues | DigitalOcean Documentation"
---

- [DigitalOcean \| Docs](https://docs.digitalocean.com/)

- [Platform](https://docs.digitalocean.com/platform/)
- [Products](https://docs.digitalocean.com/products/)
- [Reference](https://docs.digitalocean.com/reference/)
- [Support](https://docs.digitalocean.com/support/)
- [Sign Up](https://cloud.digitalocean.com/registrations/new)

- [Support Home](https://docs.digitalocean.com/support/)
- [![](https://docs.digitalocean.com/images/icons/accounts.7c3a46a4e139957c37b1ba530846464f3b7432b7bc00793db0d8e788940ddf69.svg)Accounts](https://docs.digitalocean.com/support/accounts/)
- [![](https://docs.digitalocean.com/images/icons/api.47c17d0d57a6ef27c2bdc744b3a7b71edc80838dfbe8431e12f5c3e81f371510.svg)API](https://docs.digitalocean.com/support/api/)
- [![](https://docs.digitalocean.com/images/icons/app-platform.965eeb0520b4c178cc9bf64423065e5aa5c2f47ad6102384e37beca3c079f287.svg)App Platform](https://docs.digitalocean.com/support/app-platform/)
- [![](https://docs.digitalocean.com/images/icons/backups.8f2953b640369857d8e09577aab7309b64ba37e4be8cbad0f0514549bf449bd6.svg)Backups](https://docs.digitalocean.com/support/backups/)
- [![](https://docs.digitalocean.com/images/icons/bare-metal-gpus.7498b79d7a8142afb95399794d7f631c490388aa4fb5b30d9021292dca01d125.svg)Bare Metal GPUs](https://docs.digitalocean.com/support/bare-metal-gpus/)
- [![](https://docs.digitalocean.com/images/icons/billing.357b31651da85802e1aa1c9f0b19cda7b26d5c971352f7176d1a130b21e088b7.svg)Billing](https://docs.digitalocean.com/support/billing/)
- [![](https://docs.digitalocean.com/images/icons/cloudways.4200c764fb56e3bab6adc9c1009bfd314c9c555e4583882b57f4a571a854ac89.svg)Cloudways](https://docs.digitalocean.com/support/cloudways/)
- [![](https://docs.digitalocean.com/images/icons/support.91273ef64796cbf92aa09b42996c4fd5bae614b3ce3dd81c685d8da10c28f209.svg)Container Registry](https://docs.digitalocean.com/support/container-registry/)
- [![](https://docs.digitalocean.com/images/icons/ddos.9bd745e00c340f315df5e60a2aef6a3ae3b2a4b9c16e583378f013ce39e94aaf.svg)DDoS](https://docs.digitalocean.com/support/ddos/)
- [![](https://docs.digitalocean.com/images/icons/dns.cb34d0653affb99d6826d0a3c70bdb8311ae7f51ca44810ae41cb1deb2e03a71.svg)DNS](https://docs.digitalocean.com/support/dns/)
- [![](https://docs.digitalocean.com/images/icons/droplets.f4877fc574e6b07f8fb9608e252be4160ebecd65569acea11775a046b9370c6f.svg)Droplets](https://docs.digitalocean.com/support/droplets/)
- [![](https://docs.digitalocean.com/images/icons/firewalls.ae799a907969d743602c769c16fd2ad744471b683543c748c3cfb89494091454.svg)Firewalls](https://docs.digitalocean.com/support/firewalls/)
- [![](https://docs.digitalocean.com/images/icons/functions.b0bb037d0e06c09d659cd32aeb2b48c4195d6e824680f25a98d7ed1c24010331.svg)Functions](https://docs.digitalocean.com/support/functions/)
- [![](https://docs.digitalocean.com/images/icons/gradient-ai-platform.d44093369d163f66a792e27c3d48418be24ba1c7d9e216e99032e5cd6c166096.svg)DigitalOcean Gradient™ AI Platform](https://docs.digitalocean.com/support/gradient-ai-platform/)
- [![](https://docs.digitalocean.com/images/icons/ipv6.5328c5b0b5ae17c7784679c40c051945e4799cda74d004c85a41eba70b6a07f9.svg)IPv6](https://docs.digitalocean.com/support/ipv6/)
- [![](https://docs.digitalocean.com/images/icons/kafka.6e5f03a9446ce8ef1cb8ff94d5cfc2174c6a0778b884650e64476af3a9d0888b.svg)Kafka](https://docs.digitalocean.com/support/kafka/)
- [![](https://docs.digitalocean.com/images/icons/kubernetes.5c9f5538fc3c9db4ddd19b3b4c2166c4e06a899c3582345cc892b570bd214072.svg)Kubernetes](https://docs.digitalocean.com/support/kubernetes/)
- [![](https://docs.digitalocean.com/images/icons/load-balancers.1b5f8a9d40bf92d2798a187032a28a29572afdd5e74855e5b1c1d30dfffc07ed.svg)Load Balancers](https://docs.digitalocean.com/support/load-balancers/)
- [![](https://docs.digitalocean.com/images/icons/mongodb.15f32316da2692011abce02f393a1ee6db469250230cf1ea962c181c0e9e7de5.svg)MongoDB](https://docs.digitalocean.com/support/mongodb/)
- [![](https://docs.digitalocean.com/images/icons/monitoring.76945ea4a7d45a01469c36e1133e112e8cf2b800c56b8106f31d27b146221b0f.svg)Monitoring](https://docs.digitalocean.com/support/monitoring/)
- [![](https://docs.digitalocean.com/images/icons/mysql.15f32316da2692011abce02f393a1ee6db469250230cf1ea962c181c0e9e7de5.svg)MySQL](https://docs.digitalocean.com/support/mysql/)
- [![](https://docs.digitalocean.com/images/icons/networking.8ce61209d990cc1c01165492e38bc20ff73c12a59a93ea2fce5f487949e23b78.svg)Networking](https://docs.digitalocean.com/support/networking/)
- [![](https://docs.digitalocean.com/images/icons/opensearch.2629f480d99bedd31ae31e9fd8269c327373bb1a8ecc38a68f458985e2393b42.svg)Opensearch](https://docs.digitalocean.com/support/opensearch/)
- [![](https://docs.digitalocean.com/images/icons/support.91273ef64796cbf92aa09b42996c4fd5bae614b3ce3dd81c685d8da10c28f209.svg)Paperspace](https://docs.digitalocean.com/support/paperspace/)
- [![](https://docs.digitalocean.com/images/icons/postgresql.855c43f1f82e98a24a05998729b39a9937438c7f77af3dc0c22da5a5739f5eb7.svg)PostgreSQL](https://docs.digitalocean.com/support/postgresql/)
- [![](https://docs.digitalocean.com/images/icons/redis.213385ebd06d3cd436657564821380f108a92109b568f05c3313d87fc0bc0c96.svg)Redis](https://docs.digitalocean.com/support/redis/)
- [![](https://docs.digitalocean.com/images/icons/reserved-ips.c9c9b721d99d9592de022671f4dd4b27147dea7162dbfa52ee239edccf9d612f.svg)Reserved IPs](https://docs.digitalocean.com/support/reserved-ips/)
- [![](https://docs.digitalocean.com/images/icons/snapshooter.13e207b5891670f2b29dbf31513a019ebef8731d27c25446bbf7557251aca915.svg)SnapShooter](https://docs.digitalocean.com/support/snapshooter/)
- [![](https://docs.digitalocean.com/images/icons/snapshots.257b4659783b27a6528d9939dcfcb23d26d0ecb4f674e8b728d4bbee764fc3c9.svg)Snapshots](https://docs.digitalocean.com/support/snapshots/)
- [![](https://docs.digitalocean.com/images/icons/spaces.77fdb5bd2197bad96040b9d1e46f6a66a0cb7b3c03213c5f52b42f43e268affa.svg)Spaces](https://docs.digitalocean.com/support/spaces/)
- [![](https://docs.digitalocean.com/images/icons/teams.d6932e5b476fcbbdf1fecec304776ef06c1a04d23174de1c0e6b349d96add59f.svg)Teams](https://docs.digitalocean.com/support/teams/)
- [![](https://docs.digitalocean.com/images/icons/support.91273ef64796cbf92aa09b42996c4fd5bae614b3ce3dd81c685d8da10c28f209.svg)Third-Party Applications](https://docs.digitalocean.com/support/third-party-applications/)
- [![](https://docs.digitalocean.com/images/icons/volumes.9c13d8bb9aee0348ee1af5d72d4c795b4eea86db85fa161806e73d12c0b756d3.svg)Volumes](https://docs.digitalocean.com/support/volumes/)
- [![](https://docs.digitalocean.com/images/icons/vpc.8e35a29c5ce11122208ae3824979d1635c2e67bfb31236328f0665502135db7e.svg)VPC](https://docs.digitalocean.com/support/vpc/)

- [Support Home](https://docs.digitalocean.com/support/)
- Shell Environment Issues

[Can't Sign In?](https://www.digitalocean.com/company/contact/support)

# How to Troubleshoot SSH Shell Environment Issues

Validated on 4 Mar 2024 • Last edited on 17 Jun 2025

SSH is the primary method available for managing DigitalOcean Droplets. Dealing with SSH errors or failures can be frustrating because the errors themselves often prohibit you from accessing your servers.

There are two prerequisites to troubleshooting SSH issues:

1. [**Should I troubleshoot SSH?**](https://docs.digitalocean.com/support/how-to-troubleshoot-ssh-shell-environment-issues/#should-i-ts) Determine whether troubleshooting is the right decision or if migration/redeployment is more appropriate.
2. [**What should I do before troubleshooting SSH?**](https://docs.digitalocean.com/support/how-to-troubleshoot-ssh-shell-environment-issues/#before-ts). Make sure the issue is truly with SSH, then review the information and skills necessary to resolve SSH issues, like having root access to the server and understanding how to access and edit files.

## When to Consider Migration or Redeployment

To resolve your issue quickly, first determine whether troubleshooting the connection is the right solution for your problem or if you should instead focus on [recovering your data for redeployment](https://docs.digitalocean.com/products/droplets/how-to/recovery/recovery-iso/).

Some issues, such as an accidental recursive `rm` or `chmod` command or incorrect network configuration, can lock you out of a Droplet permanently. Other issues may seem like connection problems, but are actually more complex issues with no clear resolution, like corrupted file systems, incorrect file permissions and ownership, and broken system packages and required libraries.

You can typically identify boot errors through the Droplet console startup output. File system issues and startup failures that prevent [a working console login session](https://docs.digitalocean.com/products/droplets/how-to/connect-with-console/) are signs that troubleshooting your network configuration may not be the better option. In situations like this, the best approach is to salvage what you can. In some cases, a good [backup](https://docs.digitalocean.com/products/backups/) or [snapshot](https://docs.digitalocean.com/products/snapshots/) strategy is the fastest way back to your previous working environment.

## What to Do Before Troubleshooting

If you’ve decided that troubleshooting is right for your situation, go through the following steps:

1. **Check the control panel.** Before anything else, make sure there are no [ongoing issues](https://status.digitalocean.com/), like an outage in the region impacting your Droplet.

2. **Check if Droplet is disabled because of abuse.** Droplets are sometimes disabled due to the detection of abusive activity. If your Droplet has been disabled, an email has been sent to the email address linked to your DigitalOcean account with the title `Networking Disabled: <your-droplet-name>`. You can also log in to the [support portal](https://cloudsupport.digitalocean.com/) to see if any support tickets have been created for your resources.

If your Droplet has been disabled due to suspected abuse, [contact our support team](https://www.digitalocean.com/support) for further information.

3. **Recover root access.** If you do not have the current root password, reset it using the [reset root password](https://docs.digitalocean.com/support/how-do-i-reset-my-droplets-root-password/) function in the control panel.

4. **Access the Recovery Console.** If you cannot log in to the Droplet, [the Recovery Console](https://docs.digitalocean.com/products/droplets/how-to/recovery/recovery-console/) is another way to gain access (as long as your Droplet is running and you have a working root password).

5. **Reboot your Droplet.** Many connectivity problems can be resolved after a reboot. If you’re experiencing connectivity issues, try rebooting the Droplet and see if this resolves the issue.

Before rebooting your Droplet, [we highly recommend taking a snapshot of it](https://docs.digitalocean.com/products/snapshots/how-to/snapshot-droplets/). This allows you to [redeploy your Droplet in its current configuration](https://docs.digitalocean.com/products/snapshots/getting-started/quickstart/#create-droplets-and-volumes-from-snapshots) if rebooting the Droplet causes more serious problems.

To reboot your Droplet, log in to it and run the following command:


```
sudo reboot
```

6. **Review file management and permissions.** Some of these solutions may require you to [review or edit files](https://www.digitalocean.com/community/tutorials/basic-linux-navigation-and-file-management) on the system or [manage permissions](https://www.digitalocean.com/community/tutorials/an-introduction-to-linux-permissions).

7. **Check logs.** Once you can get into the Droplet, check the system’s log files for more information to identify the error so you can then look up a solution.

You can learn more about the logs on your server with [this Linux logging tutorial](https://www.digitalocean.com/community/tutorials/how-to-view-and-configure-linux-logs-on-ubuntu-and-centos) and [this journalctl and systemd logging tutorial](https://www.digitalocean.com/community/tutorials/how-to-use-journalctl-to-view-and-manipulate-systemd-logs).

8. **Use verbose SSH output.** The level of detail an SSH client provides about the SSH session is generally quiet by default. It’s helpful to have more information when debugging an issue.

For the OpenSSH client, you can use the `-v` option with multiple `v` entries to increase the verbosity of the output, as in `ssh -v user@203.0.113.0`. While most issues are revealed with a single `v`, some issues may benefit from `-vvv`.

The PuTTY client supports an Event Log accessible from the context icon in the application window bar. There’s also an option for configuring session logging from the settings page when initiating the connection.


After you decide to troubleshoot an SSH issue instead of migrating or redeploying, you can identify and resolve specific SSH errors based on which [phase of a successful SSH connection](https://www.digitalocean.com/community/tutorials/understanding-the-ssh-encryption-and-connection-process) you need to debug.

Once your SSH connection is established and you are authenticated, the remote shell environment is then executed. There are a couple of issues that can occur at this point as described below, followed by actions you can take to address them.

## Errors

### Could Not `chdir` To Home Directory

In some cases, you may cause damage to directory ownership or permissions that can cause problems when trying to access the home directory. This can result in errors like the following:

```
Could not chdir to home directory /home/user: Permission denied
```

```
Could not chdir to home directory /home/user: Input/output error
```

```
Could not chdir to home directory /home/user: No such file or directory
```

Some issues might stem from the user home directory not existing, its ownership being incorrect, or its permissions being too restrictive. This also might happen when filesystem issues have corrupted the home directory.

To troubleshoot this issue, try [checking the home directory](https://docs.digitalocean.com/support/how-to-troubleshoot-ssh-shell-environment-issues/#checking-the-home-directory)’s existence, permissions, and ownership.

### This Account Is Currently Not Available

In some cases, users may be configured to not have a login shell. This can manifest in several ways in the shell not responding. You might see an error like this:

```
This account is currently not available.
```

Here are some potential causes of this issue:

- The user is a system user and not intended for shell access.
- The user shell is assigned to `nologin`, `true`, `false` or another non-shell binary. In this case, you can [update the user shell](https://docs.digitalocean.com/support/how-to-troubleshoot-ssh-shell-environment-issues/#updating-the-user-shell).

### Resource Temporarily Unavailable

The SSH service, like any service, requires system resources to operate. This means that when your Droplet is under resource-constrained conditions, the service may fail to open a working shell environment. These conditions include exhausting the system memory, reaching the system’s open file limit, or crashing the runtime environment.

You might see an error message like this:

```
ssh: connect to host example.com port 22: Resource temporarily unavailable
```

Resource issues can be difficult to debug, and depends on the kind of access you have to your Droplet. Read below on [how to handle resource issues](https://docs.digitalocean.com/support/how-to-troubleshoot-ssh-shell-environment-issues/#dealing-with-resource-issues).

## Solutions

Below are some troubleshooting methods and solutions to common SSH environment errors.

### Checking The Home Directory

In some cases, you may need to [use the Recovery Console](https://docs.digitalocean.com/products/droplets/how-to/recovery/recovery-console/) to log in as **root** to evaluate the home directory with sufficient permissions to address any issues. Verify that `/home` and the path for the user’s home directory exist using `stat` or a similar utility.

If the directories exist, verify that the user’s home directory has appropriate permissions (at least `700`) and ownership (the user, not **root**).

### Updating The User Shell

From the Recovery Console, log in as **root** or a user with `sudo` access. You can review the `/etc/passwd` file directly or use the `getent` command to list the details:

```shell
getent passwd user
```

The output looks like this, with `/usr/sbin/nologin` at the end.

```
user:x:1000:1000::/home/user:/usr/sbin/nologin
```

To update this, use the system command `usermod` and specify the correct shell to use, like `/bin/bash`.

```shell
usermod -s /bin/bash user
```

Run the `getent` command again to see the change reflected in the output:

```
user:x:1000:1000::/home/user:/bin/bash
```

You can then try logging in again.

### Dealing With Resource Issues

Dealing with resource issues is a very context-specific situation.

If resource contention is caused by network requests (like a DDoS attack against a web application), you may be able to disable the service or block traffic at the firewall from the Recovery Console. This may allow enough room for you to assess the impact of the situation and implement mitigation strategies or consider scaling your deployment.

If you cannot log in from the Recovery Console, the last resort option is to power cycle or reboot the Droplet. Depending on the cause of the resource exhaustion, this may hit the same environment or initially support a connection that gives an `Unable to fork process` error when you attempt to run a command. Catching the Recovery Console or SSH connection to the Droplet after a reboot but before it becomes unresponsive is key to troubleshooting the root cause.

You can learn more about scaling, load balancing, and expanding your Droplet’s resources in the following tutorials:

- [How To Automate the Scaling of Your Web Application on DigitalOcean](https://www.digitalocean.com/community/tutorials/how-to-automate-the-scaling-of-your-web-application-on-digitalocean)
- [How To Resize Your Droplets on DigitalOcean](https://docs.digitalocean.com/products/droplets/how-to/resize/)
- [An Introduction to HAProxy and Load Balancing Concepts](https://www.digitalocean.com/community/tutorials/an-introduction-to-haproxy-and-load-balancing-concepts)

## Conclusion

If you need further help, you can [open a support ticket](https://cloudsupport.digitalocean.com/). Make sure to include the following information:

- The username, host, and port you are using to connect.
- The authentication mechanism you expect to use.
- The full output of the errors linked to the stage of error, including verbose output of the SSH client
- All of the information you’ve gathered from troubleshooting so far.
- Anything you were unclear about while referencing this article.

Including all the above diagnostic information and clarifying where you are encountering the issue when trying to connect can help us quickly get up to speed with where your need on the issue is.

## Related Topics

![](https://docs.digitalocean.com/images/icons/support.svg)

How to Troubleshoot SSH Authentication Issues

Problems with SSH authentication includes permission denied with SSH keys and passwords.

![](https://docs.digitalocean.com/images/icons/support.svg)

How to Troubleshoot SSH Connectivity Issues

Problems with SSH connectivity include hostname resolution errors and connections being refused or timing out.

![](https://docs.digitalocean.com/images/icons/support.svg)

How to Troubleshoot SSH Protocol Issues

Problems during SSH protocol initiation include the client suddenly getting dropped or closed, the client returning errors about cipher negotiation, or issues with an unknown or changed remote host.

In this article...

- [When to Consider Migration or Redeployment](https://docs.digitalocean.com/support/how-to-troubleshoot-ssh-shell-environment-issues/#when-to-consider-migration-or-redeployment)
- [What to Do Before Troubleshooting](https://docs.digitalocean.com/support/how-to-troubleshoot-ssh-shell-environment-issues/#before-ts)
- [Errors](https://docs.digitalocean.com/support/how-to-troubleshoot-ssh-shell-environment-issues/#errors)
  - [Could Not `chdir` To Home Directory](https://docs.digitalocean.com/support/how-to-troubleshoot-ssh-shell-environment-issues/#could-not-chdir-to-home-directory)
  - [This Account Is Currently Not Available](https://docs.digitalocean.com/support/how-to-troubleshoot-ssh-shell-environment-issues/#this-account-is-currently-not-available)
  - [Resource Temporarily Unavailable](https://docs.digitalocean.com/support/how-to-troubleshoot-ssh-shell-environment-issues/#resource-temporarily-unavailable)
- [Solutions](https://docs.digitalocean.com/support/how-to-troubleshoot-ssh-shell-environment-issues/#solutions)
  - [Checking The Home Directory](https://docs.digitalocean.com/support/how-to-troubleshoot-ssh-shell-environment-issues/#checking-the-home-directory)
  - [Updating The User Shell](https://docs.digitalocean.com/support/how-to-troubleshoot-ssh-shell-environment-issues/#updating-the-user-shell)
  - [Dealing With Resource Issues](https://docs.digitalocean.com/support/how-to-troubleshoot-ssh-shell-environment-issues/#dealing-with-resource-issues)
- [Conclusion](https://docs.digitalocean.com/support/how-to-troubleshoot-ssh-shell-environment-issues/#conclusion)

##### Company

- [About](https://www.digitalocean.com/about)
- [Careers](https://www.digitalocean.com/careers)
- [Blog](https://www.digitalocean.com/blog)

##### Docs

- [Docs Home](https://docs.digitalocean.com/)
- [API Reference](https://docs.digitalocean.com/reference/api)
- [CLI Reference](https://docs.digitalocean.com/reference/doctl)
- [Release Notes](https://docs.digitalocean.com/release-notes)
- [Trust Platform](https://www.digitalocean.com/trust)

##### Community

- [Tutorials](https://www.digitalocean.com/community/tutorials)
- [Q&A](https://www.digitalocean.com/community/questions)
- [Write for DOnations](https://www.digitalocean.com/community/pages/write-for-digitalocean)
- [Currents Research](https://www.digitalocean.com/currents)
- [Legal](https://www.digitalocean.com/legal)
- [Code of Conduct](https://www.digitalocean.com/community/pages/code-of-conduct)

##### Support

- [Support Center](https://docs.digitalocean.com/support)
- [Report Abuse](https://www.digitalocean.com/company/contact/abuse)

* * *

Cookie Preferences

© 2025 DigitalOcean, LLC. All rights reserved

### We can't find any results for your search.

Try using different keywords or simplifying your search terms.

Loading...

## Product Docs

### We can't find any results for your search.

Try using different keywords or simplifying your search terms.

## Marketplace

## DigitalOcean Blog

## Community

navigategoexit

GenAI Agent - DigitalOcean

![DigitalOcean Docs Agent](https://product-docs.nyc3.cdn.digitaloceanspaces.com/ai-agent-icon.svg)

This site uses cookies and related technologies, as described in our [privacy policy](https://www.digitalocean.com/legal/privacy-policy/), for purposes that may include site operation, analytics, enhanced user experience, or advertising. You may choose to consent to our use of these technologies, or manage your own preferences. Please visit our [cookie policy](https://www.digitalocean.com/legal/cookie-policy) for more information.

Agree & ProceedDecline AllManage Choices