---
url: "https://docs.digitalocean.com/products/app-platform/how-to/migrate-nodejs-buildpack/"
title: "How to Upgrade Your NodeJS Buildpack in App Platform | DigitalOcean Documentation"
---

- [DigitalOcean \| Docs](https://docs.digitalocean.com/)

- [Platform](https://docs.digitalocean.com/platform/)
- [Products](https://docs.digitalocean.com/products/)
- [Reference](https://docs.digitalocean.com/reference/)
- [Support](https://docs.digitalocean.com/support/)
- [Sign Up](https://cloud.digitalocean.com/registrations/new)

- [![](https://docs.digitalocean.com/images/icons/app-platform.965eeb0520b4c178cc9bf64423065e5aa5c2f47ad6102384e37beca3c079f287.svg)App Platform](https://docs.digitalocean.com/products/app-platform/)
- [Getting Started](https://docs.digitalocean.com/products/app-platform/getting-started/)
  - [Quickstart](https://docs.digitalocean.com/products/app-platform/getting-started/quickstart/)
  - [Sample Apps](https://docs.digitalocean.com/products/app-platform/getting-started/sample-apps/)
  - [Sample Functions](https://docs.digitalocean.com/products/functions/getting-started/sample-functions/)
  - [Deploy Sample Apps](https://docs.digitalocean.com/products/app-platform/getting-started/deploy-sample-apps/)
  - [Deploy an RSS Reader](https://docs.digitalocean.com/products/app-platform/getting-started/deploy-rss-reader/)
  - [Deploy Etherpad](https://docs.digitalocean.com/products/app-platform/getting-started/deploy-etherpad/)
- [How-Tos](https://docs.digitalocean.com/products/app-platform/how-to/)
  - [Create Apps](https://docs.digitalocean.com/products/app-platform/how-to/create-apps/)
  - [Deploy from Container Images](https://docs.digitalocean.com/products/app-platform/how-to/deploy-from-container-images/)
  - [Deploy From Monorepos](https://docs.digitalocean.com/products/app-platform/how-to/deploy-from-monorepo/)
  - [Deploy Using GitHub Actions](https://docs.digitalocean.com/products/app-platform/how-to/deploy-from-github-actions/)
  - [Scale Apps](https://docs.digitalocean.com/products/app-platform/how-to/scale-app/)
  - [Manage Components](https://docs.digitalocean.com/products/app-platform/how-to/manage-components/)
  - [Manage Data Storage](https://docs.digitalocean.com/products/app-platform/how-to/manage-data-storage/)
  - [Manage App Settings](https://docs.digitalocean.com/products/app-platform/how-to/manage-settings/)
    - [Manage Build and Run Commands](https://docs.digitalocean.com/products/app-platform/how-to/build-run-commands/)
    - [Use Environment Variables](https://docs.digitalocean.com/products/app-platform/how-to/use-environment-variables/)
    - [Configure Edge Settings](https://docs.digitalocean.com/products/app-platform/how-to/configure-edge-settings/)
    - [Change Datacenter Region](https://docs.digitalocean.com/products/app-platform/how-to/change-region/)
    - [Configure Maintenance Mode](https://docs.digitalocean.com/products/app-platform/how-to/maintenance-mode/)
    - [Configure Termination Settings](https://docs.digitalocean.com/products/app-platform/how-to/configure-termination/)
    - [Archive or Restore an App](https://docs.digitalocean.com/products/app-platform/how-to/archive-restore/)
    - [Upgrade Stack](https://docs.digitalocean.com/products/app-platform/how-to/change-stack/)
    - [Upgrade Buildpacks](https://docs.digitalocean.com/products/app-platform/how-to/upgrade-buildpacks/)
    - [Upgrade NodeJS Buildpack](https://docs.digitalocean.com/products/app-platform/how-to/migrate-nodejs-buildpack/)
    - [Manage Time Zone](https://docs.digitalocean.com/products/app-platform/how-to/manage-time-zone/)
  - [Manage Networking](https://docs.digitalocean.com/products/app-platform/how-to/manage-networking/)
  - [Manage Observability](https://docs.digitalocean.com/products/app-platform/how-to/manage-observability/)
  - [Manage Deployments](https://docs.digitalocean.com/products/app-platform/how-to/manage-deployments/)
  - [Access Console](https://docs.digitalocean.com/products/app-platform/how-to/console/)
  - [Restart or Rebuild App](https://docs.digitalocean.com/products/app-platform/how-to/restart-rebuild-app/)
  - [Update App Spec](https://docs.digitalocean.com/products/app-platform/how-to/update-app-spec/)
  - [Manage Source Repository](https://docs.digitalocean.com/products/app-platform/how-to/manage-source-repo/)
  - [Add "Deploy to DigitalOcean" Button](https://docs.digitalocean.com/products/app-platform/how-to/add-deploy-do-button/)
  - [Build Locally](https://docs.digitalocean.com/products/app-platform/how-to/build-locally/)
  - [Use MCP Server](https://docs.digitalocean.com/products/app-platform/how-to/use-mcp/)
  - [Destroy Apps](https://docs.digitalocean.com/products/app-platform/how-to/destroy-app/)
- [Reference](https://docs.digitalocean.com/products/app-platform/reference/)
  - [API Reference](https://docs.digitalocean.com/reference/api/digitalocean/#tag/Apps)
  - [CLI Reference](https://docs.digitalocean.com/reference/doctl/reference/apps/)
  - [Builds with Buildpacks](https://docs.digitalocean.com/products/app-platform/reference/buildpacks/)
  - [Builds with Dockerfiles](https://docs.digitalocean.com/products/app-platform/reference/dockerfile/)
  - [App Spec Reference](https://docs.digitalocean.com/products/app-platform/reference/app-spec/)
  - [Dev Config Reference](https://docs.digitalocean.com/products/app-platform/reference/dev-config/)
  - [Error Code Reference](https://docs.digitalocean.com/products/app-platform/reference/error-codes/)
- [Concepts](https://docs.digitalocean.com/products/app-platform/concepts/)
  - [Choosing a Plan](https://docs.digitalocean.com/products/app-platform/concepts/choosing-a-plan/)
  - [Platform Upgrade Policy](https://docs.digitalocean.com/products/app-platform/concepts/platform-upgrade-policy/)
  - [Glossary](https://docs.digitalocean.com/glossary/app-platform/)
- [Details](https://docs.digitalocean.com/products/app-platform/details/)
  - [Introduction FAQ](https://docs.digitalocean.com/products/app-platform/details/intro-faq/)
  - [Features](https://docs.digitalocean.com/products/app-platform/details/features/)
  - [Pricing](https://docs.digitalocean.com/products/app-platform/details/pricing/)
  - [Availability](https://docs.digitalocean.com/products/app-platform/details/availability/)
  - [Limits](https://docs.digitalocean.com/products/app-platform/details/limits/)
  - [Maintenance](https://docs.digitalocean.com/products/app-platform/details/maintenance/)
  - [Service-Level Agreement](https://www.digitalocean.com/sla/app-platform)
- [Support](https://docs.digitalocean.com/products/app-platform/support/)

- [How-Tos](https://docs.digitalocean.com/products/app-platform/how-to/)
- [Manage App Settings](https://docs.digitalocean.com/products/app-platform/how-to/manage-settings/)
- Upgrade NodeJS Buildpack

[Give Feedback](https://ideas.digitalocean.com/documentation)

# How to Upgrade Your NodeJS Buildpack in App Platform

Validated on 15 Oct 2024 • Last edited on 17 Apr 2025

App Platform is a Platform-as-a-Service (PaaS) offering that allows developers to publish code directly to DigitalOcean servers without worrying about the underlying infrastructure.

App Platform automatically deploys new Node.js-based apps using the latest Node.js buildpack. However, if you created your app before 17 September 2024, your app likely uses the [legacy Node.js buildpack](https://docs.digitalocean.com/products/app-platform/reference/buildpacks/legacy-nodejs/), and we recommend upgrading it to use the [new Heroku Node.js Buildpack](https://docs.digitalocean.com/products/app-platform/reference/buildpacks/nodejs/). The new buildpack includes security updates and new features, such as custom caching.

Sample apps for PHP, Python, Ruby, Ruby on Rails, Laravel, and Django only support the legacy Node.js buildpack. You cannot upgrade them.

You can verify which buildpack your app uses by going to the [Apps page](https://cloud.digitalocean.com/apps) in the DigitalOcean Control Panel and clicking your app. Click the **Settings** tab and scroll down to the **Build Phase** section. If the Node.js buildpack listed is `Node.js v0.4.1`, your app uses the legacy buildpack.

To change your app’s Node.js buildpack, go to your [Apps page](https://cloud.digitalocean.com/apps) in the control panel and click your app. Click the **Settings** tab, scroll to the **App Spec** section, and click the **Edit** button. Here, you can download the spec to edit it in your preferred text editor or edit the spec directly in the control panel.

Next, add a `feature` field to the spec and set the value to `new-nodejs-buildpack=true`, like this:

`example-app.yaml`

```yaml
...
name: example-app
region: nyc
features:
    - new-nodejs-buildpack=true
services:
- environment_slug: node-js
  github:
    branch: master
    deploy_on_push: true
    repo: example/app-repo
  http_port: 8080
  instance_count: 2
  instance_size_slug: apps-s-1vcpu-1gb
  name: reactions
  run_command: npm start
  source_dir: /
```

If you edited the spec in the control panel, click **Save** to update your app. If you downloaded the spec, instead click **Upload File**, select your updated spec, and then click **Replace**. Either way, this automatically triggers a redeployment with the new buildpack.

The new Node.js buildpack runs `npm run build` (`yarn build` or `pnpm build`) by default and `build_command` runs after this build step.

If you’re using custom build command, you need to remove this `build_command` from the app spec and add this custom build command to your app’s `build` script.

In this article...

[How to Upgrade Your NodeJS Buildpack in App Platform](https://docs.digitalocean.com/products/app-platform/how-to/migrate-nodejs-buildpack/)

##### Company

- [About](https://www.digitalocean.com/about)
- [Careers](https://www.digitalocean.com/careers)
- [Blog](https://www.digitalocean.com/blog)

##### Docs

- [Docs Home](https://docs.digitalocean.com/)
- [API Reference](https://docs.digitalocean.com/reference/api)
- [CLI Reference](https://docs.digitalocean.com/reference/doctl)
- [Release Notes](https://docs.digitalocean.com/release-notes)
- [Trust Platform](https://www.digitalocean.com/trust)

##### Community

- [Tutorials](https://www.digitalocean.com/community/tutorials)
- [Q&A](https://www.digitalocean.com/community/questions)
- [Write for DOnations](https://www.digitalocean.com/community/pages/write-for-digitalocean)
- [Currents Research](https://www.digitalocean.com/currents)
- [Legal](https://www.digitalocean.com/legal)
- [Code of Conduct](https://www.digitalocean.com/community/pages/code-of-conduct)

##### Support

- [Support Center](https://docs.digitalocean.com/support)
- [Report Abuse](https://www.digitalocean.com/company/contact/abuse)

* * *

© 2025 DigitalOcean, LLC. All rights reserved

### We can't find any results for your search.

Try using different keywords or simplifying your search terms.

Loading...

## Product Docs

### We can't find any results for your search.

Try using different keywords or simplifying your search terms.

## Marketplace

## DigitalOcean Blog

## Community

navigategoexit

This site uses cookies and related technologies, as described in our [privacy policy](https://www.digitalocean.com/legal/privacy-policy/), for purposes that may include site operation, analytics, enhanced user experience, or advertising. You may choose to consent to our use of these technologies, or manage your own preferences. Please visit our [cookie policy](https://www.digitalocean.com/legal/cookie-policy) for more information.

Agree & ProceedDecline AllManage Choices

Cookie Preferences

GenAI Agent - DigitalOcean