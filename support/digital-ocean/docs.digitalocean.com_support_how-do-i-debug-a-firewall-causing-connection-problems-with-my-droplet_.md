---
url: "https://docs.digitalocean.com/support/how-do-i-debug-a-firewall-causing-connection-problems-with-my-droplet/"
title: "How do I debug a firewall causing connection problems with my Droplet? | DigitalOcean Documentation"
---

- [DigitalOcean \| Docs](https://docs.digitalocean.com/)

- [Platform](https://docs.digitalocean.com/platform/)
- [Products](https://docs.digitalocean.com/products/)
- [Reference](https://docs.digitalocean.com/reference/)
- [Support](https://docs.digitalocean.com/support/)
- [Sign Up](https://cloud.digitalocean.com/registrations/new)

- [Support Home](https://docs.digitalocean.com/support/)
- [![](https://docs.digitalocean.com/images/icons/accounts.7c3a46a4e139957c37b1ba530846464f3b7432b7bc00793db0d8e788940ddf69.svg)Accounts](https://docs.digitalocean.com/support/accounts/)
- [![](https://docs.digitalocean.com/images/icons/api.47c17d0d57a6ef27c2bdc744b3a7b71edc80838dfbe8431e12f5c3e81f371510.svg)API](https://docs.digitalocean.com/support/api/)
- [![](https://docs.digitalocean.com/images/icons/app-platform.965eeb0520b4c178cc9bf64423065e5aa5c2f47ad6102384e37beca3c079f287.svg)App Platform](https://docs.digitalocean.com/support/app-platform/)
- [![](https://docs.digitalocean.com/images/icons/backups.8f2953b640369857d8e09577aab7309b64ba37e4be8cbad0f0514549bf449bd6.svg)Backups](https://docs.digitalocean.com/support/backups/)
- [![](https://docs.digitalocean.com/images/icons/bare-metal-gpus.7498b79d7a8142afb95399794d7f631c490388aa4fb5b30d9021292dca01d125.svg)Bare Metal GPUs](https://docs.digitalocean.com/support/bare-metal-gpus/)
- [![](https://docs.digitalocean.com/images/icons/billing.357b31651da85802e1aa1c9f0b19cda7b26d5c971352f7176d1a130b21e088b7.svg)Billing](https://docs.digitalocean.com/support/billing/)
- [![](https://docs.digitalocean.com/images/icons/cloudways.4200c764fb56e3bab6adc9c1009bfd314c9c555e4583882b57f4a571a854ac89.svg)Cloudways](https://docs.digitalocean.com/support/cloudways/)
- [![](https://docs.digitalocean.com/images/icons/support.91273ef64796cbf92aa09b42996c4fd5bae614b3ce3dd81c685d8da10c28f209.svg)Container Registry](https://docs.digitalocean.com/support/container-registry/)
- [![](https://docs.digitalocean.com/images/icons/ddos.9bd745e00c340f315df5e60a2aef6a3ae3b2a4b9c16e583378f013ce39e94aaf.svg)DDoS](https://docs.digitalocean.com/support/ddos/)
- [![](https://docs.digitalocean.com/images/icons/dns.cb34d0653affb99d6826d0a3c70bdb8311ae7f51ca44810ae41cb1deb2e03a71.svg)DNS](https://docs.digitalocean.com/support/dns/)
- [![](https://docs.digitalocean.com/images/icons/droplets.f4877fc574e6b07f8fb9608e252be4160ebecd65569acea11775a046b9370c6f.svg)Droplets](https://docs.digitalocean.com/support/droplets/)
- [![](https://docs.digitalocean.com/images/icons/firewalls.ae799a907969d743602c769c16fd2ad744471b683543c748c3cfb89494091454.svg)Firewalls](https://docs.digitalocean.com/support/firewalls/)
- [![](https://docs.digitalocean.com/images/icons/functions.b0bb037d0e06c09d659cd32aeb2b48c4195d6e824680f25a98d7ed1c24010331.svg)Functions](https://docs.digitalocean.com/support/functions/)
- [![](https://docs.digitalocean.com/images/icons/gradient-ai-platform.d44093369d163f66a792e27c3d48418be24ba1c7d9e216e99032e5cd6c166096.svg)DigitalOcean Gradient™ AI Platform](https://docs.digitalocean.com/support/gradient-ai-platform/)
- [![](https://docs.digitalocean.com/images/icons/ipv6.5328c5b0b5ae17c7784679c40c051945e4799cda74d004c85a41eba70b6a07f9.svg)IPv6](https://docs.digitalocean.com/support/ipv6/)
- [![](https://docs.digitalocean.com/images/icons/kafka.6e5f03a9446ce8ef1cb8ff94d5cfc2174c6a0778b884650e64476af3a9d0888b.svg)Kafka](https://docs.digitalocean.com/support/kafka/)
- [![](https://docs.digitalocean.com/images/icons/kubernetes.5c9f5538fc3c9db4ddd19b3b4c2166c4e06a899c3582345cc892b570bd214072.svg)Kubernetes](https://docs.digitalocean.com/support/kubernetes/)
- [![](https://docs.digitalocean.com/images/icons/load-balancers.1b5f8a9d40bf92d2798a187032a28a29572afdd5e74855e5b1c1d30dfffc07ed.svg)Load Balancers](https://docs.digitalocean.com/support/load-balancers/)
- [![](https://docs.digitalocean.com/images/icons/mongodb.15f32316da2692011abce02f393a1ee6db469250230cf1ea962c181c0e9e7de5.svg)MongoDB](https://docs.digitalocean.com/support/mongodb/)
- [![](https://docs.digitalocean.com/images/icons/monitoring.76945ea4a7d45a01469c36e1133e112e8cf2b800c56b8106f31d27b146221b0f.svg)Monitoring](https://docs.digitalocean.com/support/monitoring/)
- [![](https://docs.digitalocean.com/images/icons/mysql.15f32316da2692011abce02f393a1ee6db469250230cf1ea962c181c0e9e7de5.svg)MySQL](https://docs.digitalocean.com/support/mysql/)
- [![](https://docs.digitalocean.com/images/icons/networking.8ce61209d990cc1c01165492e38bc20ff73c12a59a93ea2fce5f487949e23b78.svg)Networking](https://docs.digitalocean.com/support/networking/)
- [![](https://docs.digitalocean.com/images/icons/opensearch.2629f480d99bedd31ae31e9fd8269c327373bb1a8ecc38a68f458985e2393b42.svg)Opensearch](https://docs.digitalocean.com/support/opensearch/)
- [![](https://docs.digitalocean.com/images/icons/support.91273ef64796cbf92aa09b42996c4fd5bae614b3ce3dd81c685d8da10c28f209.svg)Paperspace](https://docs.digitalocean.com/support/paperspace/)
- [![](https://docs.digitalocean.com/images/icons/postgresql.855c43f1f82e98a24a05998729b39a9937438c7f77af3dc0c22da5a5739f5eb7.svg)PostgreSQL](https://docs.digitalocean.com/support/postgresql/)
- [![](https://docs.digitalocean.com/images/icons/redis.213385ebd06d3cd436657564821380f108a92109b568f05c3313d87fc0bc0c96.svg)Redis](https://docs.digitalocean.com/support/redis/)
- [![](https://docs.digitalocean.com/images/icons/reserved-ips.c9c9b721d99d9592de022671f4dd4b27147dea7162dbfa52ee239edccf9d612f.svg)Reserved IPs](https://docs.digitalocean.com/support/reserved-ips/)
- [![](https://docs.digitalocean.com/images/icons/snapshooter.13e207b5891670f2b29dbf31513a019ebef8731d27c25446bbf7557251aca915.svg)SnapShooter](https://docs.digitalocean.com/support/snapshooter/)
- [![](https://docs.digitalocean.com/images/icons/snapshots.257b4659783b27a6528d9939dcfcb23d26d0ecb4f674e8b728d4bbee764fc3c9.svg)Snapshots](https://docs.digitalocean.com/support/snapshots/)
- [![](https://docs.digitalocean.com/images/icons/spaces.77fdb5bd2197bad96040b9d1e46f6a66a0cb7b3c03213c5f52b42f43e268affa.svg)Spaces](https://docs.digitalocean.com/support/spaces/)
- [![](https://docs.digitalocean.com/images/icons/teams.d6932e5b476fcbbdf1fecec304776ef06c1a04d23174de1c0e6b349d96add59f.svg)Teams](https://docs.digitalocean.com/support/teams/)
- [![](https://docs.digitalocean.com/images/icons/support.91273ef64796cbf92aa09b42996c4fd5bae614b3ce3dd81c685d8da10c28f209.svg)Third-Party Applications](https://docs.digitalocean.com/support/third-party-applications/)
- [![](https://docs.digitalocean.com/images/icons/volumes.9c13d8bb9aee0348ee1af5d72d4c795b4eea86db85fa161806e73d12c0b756d3.svg)Volumes](https://docs.digitalocean.com/support/volumes/)
- [![](https://docs.digitalocean.com/images/icons/vpc.8e35a29c5ce11122208ae3824979d1635c2e67bfb31236328f0665502135db7e.svg)VPC](https://docs.digitalocean.com/support/vpc/)

- [Support Home](https://docs.digitalocean.com/support/)
- How do I debug a firewall causing connection problems with my Droplet?

[Can't Sign In?](https://www.digitalocean.com/company/contact/support)

# How do I debug a firewall causing connection problems with my Droplet?

Validated on 4 Mar 2024 • Last edited on 17 Apr 2025

If a host-based firewall on your Droplet is misconfigured, it can prevent connections to or from your computer. Misconfigured [DigitalOcean cloud firewalls](https://docs.digitalocean.com/products/networking/firewalls/) can also cause network problems. If your setup uses both firewalls, they may have conflicting rule sets.

## Debug your Droplet Firewall

You can check to see if any firewall rules are active on your Droplet before troubleshooting them further using IPTables. IPTables is a utility program that manages firewalls and is native to all Linux operating systems.

To see if you have any firewall rules in place on your Droplet, run:

```shell
iptables -L
```

If the command returns the following output, the Droplet does not have any active filtering rules, and you do not need to debug them further. Instead, [check your cloud firewall settings](https://docs.digitalocean.com/support/how-do-i-debug-a-firewall-causing-connection-problems-with-my-droplet/#cloud-firewall)

Firewall is not active

```text
Chain INPUT (policy ACCEPT)
target     prot opt source               destination

Chain FORWARD (policy ACCEPT)
target     prot opt source               destination

Chain OUTPUT (policy ACCEPT)
target     prot opt source               destination
```

If the command returns longer output with policies set to `DROP`, the Droplet’s firewall is active. In the sample output below, IPTables returned firewall policies that are set to only accept TCP traffic on port `2222` and were configured using UFW.

Firewall is filtering traffic

```text
Chain INPUT (policy DROP)
target     prot opt source               destination
ufw-before-logging-input  all  --  anywhere             anywhere
ufw-before-input  all  --  anywhere             anywhere
ufw-after-input  all  --  anywhere             anywhere
ufw-after-logging-input  all  --  anywhere             anywhere
ufw-reject-input  all  --  anywhere             anywhere
ufw-track-input  all  --  anywhere             anywhere

...

Chain ufw-user-input (1 references)
target     prot opt source               destination
ACCEPT     tcp  --  anywhere             anywhere             tcp dpt:2222
```

If the Droplet has active firewall policies, use one of the following tools to review the firewall rules on the Droplet. We recommend using [UFW to manage your firewall rules](https://www.digitalocean.com/community/tutorials/how-to-set-up-a-firewall-with-ufw-on-ubuntu-18-04) as it is the most user-friendly firewall interface.

UFW

UFW is an interface for managing netfilter firewall rules and all Ubuntu Droplets have UFW installed by default. You can view the current filtering rules by running:

```shell
sudo ufw status verbose
```

Adding the `verbose` argument returns a more detailed status of the firewall.

If you receive the message `Status: inactive`, UFW is not currently configured to manage your firewall and you can try reviewing your Droplet’s firewall settings with `iptables`. If UFW is currently active, it returns output similar to the following:

```text
Status: active
Logging: on (low)
Default: deny (incoming), allow (outgoing), disabled (routed)
New profiles: skip

To                         Action      From
--                         ------      ----
22/tcp (OpenSSH)           ALLOW IN    Anywhere
22/tcp (OpenSSH (v6))      ALLOW IN    Anywhere (v6)
```

The output displays a few things:

- `Status`: Indicates that the firewall is actively enforcing traffic rules.
- `Default`: Indicates the current incoming and outgoing traffic policies. The provided example shows that the incoming policy is to deny connections to the Droplet from outside sources, and the outgoing policy allows traffic from the Droplet to connect to the public internet.
- The rule set at the bottom indicates the types of traffic that are allowed to connect to and egress from the Droplet. In the example, the rule set allows incoming connections to port 22 from both IPv4 and IPv6 addresses. Because all outbound traffic is allowed to egress from the Droplet, no outbound rules are displayed in the rule set.

If you have a DigitalOcean Cloud Firewall set up with conflicting rules, you can disable your UFW firewall by typing:

```shell
sudo ufw disable
```

If you want to keep your Droplet’s firewall in place to filter types of traffic not covered by DigitalOcean’s Cloud Firewall service, such as SFTP traffic, you should modify its rules to match the cloud firewall settings to ensure there are no conflicting rules between the two firewalls. You can learn how to modify the UFW rules by following the [UFW Essentials: Common Firewall Rules and Commands](https://www.digitalocean.com/community/tutorials/ufw-essentials-common-firewall-rules-and-commands) guide.

FirewallD

FirewallD is an interface for managing a netfilter firewall designed to be user friendly. It is available for most Linux operating systems. If your Droplet runs FirewallD, you can view the current traffic rules with a sequence of checks.

First, check whether FirewallD is active using the `--state` flag:

```shell
sudo firewall-cmd --state
```

If you receive the message `running`, check the active zones using the `--get-active-zones` flag:

```shell
sudo firewall-cmd --get-active-zones
```

The command returns any network interfaces FirewallD actively controlled by FirewallD rules.

```
public
  interfaces: eth0
```

If FirewallD has active zones, it means that it is evaluating traffic against a set of rules. In the example output, FirewallD is currently managing traffic for the Droplet’s `eth0` network interface.

You can display the ports and services associated with each of the active zones with the `--info-zone` option:

```shell
sudo firewall-cmd --info-zone=public
```

```text
public (active)
  target: default
  icmp-block-inversion: no
  interfaces: eth0
  sources:
  services: dhcpv6-client ssh
  ports:
  protocols:
  masquerade: no
  forward-ports:
  sourceports:
  icmp-blocks:
  rich rules:
```

Check whether any ports are open by looking at:

- The `target` value. If this is set to `DROP` or `%%REJECT%%`, the Droplet denies all traffic regardless of the other settings.
- The `ports` value. This lists ports explicitly allowed through the firewall.
- The `services` value. This lists services that are allowed through the firewall. In the example output above, the `dhcpv6-client` and `ssh` services are allowed through the firewall.

You can also check the ports associated with these services by typing:

```shell
sudo firewall-cmd --permanent --get-ports --service=dhcpv6-client
sudo firewall-cmd --permanent --get-ports --service=ssh
```

The example commands return the ports and network protocols associated with the services.

```shell
546/udp
22/tcp
```

If you have a [DigitalOcean Cloud Firewall](https://docs.digitalocean.com/support/how-do-i-debug-a-firewall-causing-connection-problems-with-my-droplet/) set up with conflicting rules, you can disable your firewall via FirewallD by typing:

```shell
sudo systemctl stop firewalld
sudo systemctl disable firewalld
```

If you want to keep your Droplet’s firewall in place to filter types of traffic not covered by DigitalOcean’s Cloud Firewall service, such as SFTP traffic, you should modify its rules to match the cloud firewall settings to ensure there are no conflicting rules between the two firewalls. You can learn how to modify the FirewallD rules by following the [How To Set Up a Firewall Using FirewallD on CentOS 7](https://www.digitalocean.com/community/tutorials/how-to-set-up-a-firewall-using-firewalld-on-centos-7) guide.

IPTables

IPTables is a utility program that manages firewalls on Linux systems. It’s native to all Linux operating systems. If you are using IPTables to manage the Droplet’s firewall, you can view the current IPv4 filtering rules by typing:

```shell
sudo iptables --line-numbers -vL
```

The `--line-numbers` flag prepends a `num` column to the output to make the returned chart more human-readable. The `-vl` flag returns verbose output.

```text
Chain INPUT (policy DROP 1 packets, 40 bytes)
num   pkts bytes target     prot opt in     out     source               destination
1        0     0 ACCEPT     all  --  lo     *       0.0.0.0/0            0.0.0.0/0
2      764 56512 ACCEPT     all  --  *      *       0.0.0.0/0            0.0.0.0/0            ctstate RELATED,ESTABLISHED
3        9   540 ACCEPT     tcp  --  *      *       0.0.0.0/0            0.0.0.0/0            tcp dpt:22
4        0     0 ACCEPT     tcp  --  *      *       0.0.0.0/0            0.0.0.0/0            tcp dpt:80

Chain FORWARD (policy ACCEPT 0 packets, 0 bytes)
num   pkts bytes target     prot opt in     out     source               destination

Chain OUTPUT (policy ACCEPT 374 packets, 97673 bytes)
num   pkts bytes target     prot opt in     out     source               destination
```

The output indicates:

- The default `policy` for incoming and outgoing traffic (`DROP` for incoming, and `ACCEPT` for outgoing).
- The exceptions to the default policies. In the example output above, the policy contains exemptions for incoming TCP traffic to ports `22` and `80`.

The `iptables` command only displays the rules for filtering IPv4 traffic. To show the IPv6 filtering rules, rerun the command using the `ip6tables` command instead of `iptables`.

If your [cloud firewall](https://docs.digitalocean.com/support/how-do-i-debug-a-firewall-causing-connection-problems-with-my-droplet/#cloud-firewall) has rules that conflict with your `iptables` firewall, you can disable your `iptables` firewall by running:

```shell
sudo iptables -P INPUT ACCEPT
sudo iptables -P OUTPUT ACCEPT
sudo iptables -P FORWARD ACCEPT
sudo iptables -F
sudo ip6tables -P INPUT ACCEPT
sudo ip6tables -P OUTPUT ACCEPT
sudo ip6tables -P FORWARD ACCEPT
sudo ip6tables -F
```

If you are using a service like `iptables-persistent` or have a script loading `iptables` rules at boot, you may have to disable them to disable the firewall.

If you want to keep your Droplet’s firewall in place to filter types of traffic not covered by DigitalOcean’s Cloud Firewall service, such as SFTP traffic, you should modify its rules to match the cloud firewall settings to ensure there are no conflicting rules between the two firewalls. You can learn how to modify the `iptables` rules by following the [Iptables Essentials: Common Firewall Rules and Commands](https://www.digitalocean.com/community/tutorials/iptables-essentials-common-firewall-rules-and-commands) guide.

## Debug your Cloud Firewall

To check your firewall settings from the [control panel](https://cloud.digitalocean.com/), click **Networking**, then click the **Firewalls** tab. The page lists the firewalls set up in your account.

Click the firewall protecting your Droplet and review your firewall’s rules.

![A list of firewall rules](https://docs.digitalocean.com/screenshots/firewalls/combined-ruleset.d0097b3e49f0f66faac9b636761582acafd4b44ab75a38feb2c21543a26b5610.png)

The **Inbound Rules** section displays the types of traffic that are allowed to reach your Droplet. The firewall blocks any traffic from sources _not_ explicitly listed in the inbound rules. For example, if your Droplet is linked to a firewall in your account and the firewall’s inbound rules do not list an SSH rule, the firewall blocks any attempts to connect via SSH.

The same concept applies to the firewall’s **Outbound Rules**, the firewall blocks any traffic from the Droplet _not_ explicitly listed in the outbound rules.

If you can’t reach your Droplet via a specific connection type or you can’t reach the internet from your Droplet via specific connection type, [configure a firewall rule](https://docs.digitalocean.com/products/networking/firewalls/how-to/configure-rules/) allowing that type of traffic to reach or exit the Droplet.

## Related Topics

![](https://docs.digitalocean.com/images/icons/support.svg)

How do I debug my Droplet's network configuration?

To debug your network configuration, verify the Droplet’s network interfaces and check its network configuration file.

![](https://docs.digitalocean.com/images/icons/support.svg)

How to Troubleshoot SSH Authentication Issues

Problems with SSH authentication includes permission denied with SSH keys and passwords.

![](https://docs.digitalocean.com/images/icons/support.svg)

How to Troubleshoot SSH Connectivity Issues

Problems with SSH connectivity include hostname resolution errors and connections being refused or timing out.

In this article...

- [Debug your Droplet Firewall](https://docs.digitalocean.com/support/how-do-i-debug-a-firewall-causing-connection-problems-with-my-droplet/#debug-your-droplet-firewall)
- [Debug your Cloud Firewall](https://docs.digitalocean.com/support/how-do-i-debug-a-firewall-causing-connection-problems-with-my-droplet/#cloud-firewall)

##### Company

- [About](https://www.digitalocean.com/about)
- [Careers](https://www.digitalocean.com/careers)
- [Blog](https://www.digitalocean.com/blog)

##### Docs

- [Docs Home](https://docs.digitalocean.com/)
- [API Reference](https://docs.digitalocean.com/reference/api)
- [CLI Reference](https://docs.digitalocean.com/reference/doctl)
- [Release Notes](https://docs.digitalocean.com/release-notes)
- [Trust Platform](https://www.digitalocean.com/trust)

##### Community

- [Tutorials](https://www.digitalocean.com/community/tutorials)
- [Q&A](https://www.digitalocean.com/community/questions)
- [Write for DOnations](https://www.digitalocean.com/community/pages/write-for-digitalocean)
- [Currents Research](https://www.digitalocean.com/currents)
- [Legal](https://www.digitalocean.com/legal)
- [Code of Conduct](https://www.digitalocean.com/community/pages/code-of-conduct)

##### Support

- [Support Center](https://docs.digitalocean.com/support)
- [Report Abuse](https://www.digitalocean.com/company/contact/abuse)

* * *

Cookie Preferences

© 2025 DigitalOcean, LLC. All rights reserved

### We can't find any results for your search.

Try using different keywords or simplifying your search terms.

Loading...

## Product Docs

### We can't find any results for your search.

Try using different keywords or simplifying your search terms.

## Marketplace

## DigitalOcean Blog

## Community

navigategoexit

GenAI Agent - DigitalOcean

![DigitalOcean Docs Agent](https://product-docs.nyc3.cdn.digitaloceanspaces.com/ai-agent-icon.svg)

This site uses cookies and related technologies, as described in our [privacy policy](https://www.digitalocean.com/legal/privacy-policy/), for purposes that may include site operation, analytics, enhanced user experience, or advertising. You may choose to consent to our use of these technologies, or manage your own preferences. Please visit our [cookie policy](https://www.digitalocean.com/legal/cookie-policy) for more information.

Agree & ProceedDecline AllManage Choices