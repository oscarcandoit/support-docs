---
url: "https://docs.gravityforms.com/gform_notification/"
title: "gform_notification - Gravity Forms Documentation"
---

[![Gravity Forms Documentation](https://docs.gravityforms.com/wp-content/uploads/2023/09/logo.svg)](https://docs.gravityforms.com/) [![Gravity Forms Documentation](https://docs.gravityforms.com/wp-content/uploads/2024/08/gf-print_logo.svg)](https://docs.gravityforms.com/)

- [User Guides](https://docs.gravityforms.com/category/user-guides/)
- [Developer](https://docs.gravityforms.com/category/developers/)
- [Blog](https://www.gravityforms.com/blog/)
- [Changelog](https://docs.gravityforms.com/gravityforms-change-log/)

```

```

Toggle Menu

- [Getting Started](https://docs.gravityforms.com/category/getting-started/)
- [Your Gravity Forms Account](https://docs.gravityforms.com/category/your-gravity-forms-account/)
- [User Guides](https://docs.gravityforms.com/category/user-guides/)
- [Gravity Forms 2.9](https://docs.gravityforms.com/category/gravity-forms-2-9/)
- [Gravity Forms 2.8](https://docs.gravityforms.com/category/gravity-forms-2-8/)
- [Add-Ons](https://docs.gravityforms.com/category/add-ons-gravity-forms/)
- [Developers](https://docs.gravityforms.com/category/developers/)  - [Theme Framework](https://docs.gravityforms.com/category/developers/theme-framework/)
  - [Hooks](https://docs.gravityforms.com/category/developers/hooks/)    - [Actions](https://docs.gravityforms.com/category/developers/hooks/actions/)
    - [Filters](https://docs.gravityforms.com/category/developers/hooks/filters/)      - [Add-On Framework Filters](https://docs.gravityforms.com/category/developers/hooks/filters/addon-framework-filters/)
      - [Add-On Filters](https://docs.gravityforms.com/category/developers/hooks/filters/filters-addons/)
      - [Admin Dashboard Filters](https://docs.gravityforms.com/category/developers/hooks/filters/admin-dashboard-filters/)
      - [Calculation Filters](https://docs.gravityforms.com/category/developers/hooks/filters/calculation-filters/)
      - [Conditional Logic Filters](https://docs.gravityforms.com/category/developers/hooks/filters/conditional-logic-filters/)
      - [Confirmation Filters](https://docs.gravityforms.com/category/developers/hooks/filters/confirmation-filters/)
      - [Editor Filters](https://docs.gravityforms.com/category/developers/hooks/filters/editor-filters/)
      - [Entry List Filters](https://docs.gravityforms.com/category/developers/hooks/filters/entry-list-filters/)
      - [Entry Filters](https://docs.gravityforms.com/category/developers/hooks/filters/entry-filters/)
      - [Field Filters](https://docs.gravityforms.com/category/developers/hooks/filters/field-filters/)
      - [Field Framework Filters](https://docs.gravityforms.com/category/developers/hooks/filters/field-framework-filters/)
      - [Form Component Filters](https://docs.gravityforms.com/category/developers/hooks/filters/form-component-filters/)
      - [Form List Filters](https://docs.gravityforms.com/category/developers/hooks/filters/form-list/)
      - [Form Object Filters](https://docs.gravityforms.com/category/developers/hooks/filters/form-object/)
      - [Form Settings Filters](https://docs.gravityforms.com/category/developers/hooks/filters/form-settings-filters/)
      - [Import/Export Filters](https://docs.gravityforms.com/category/developers/hooks/filters/importexport-filters/)
      - [Logging Filters](https://docs.gravityforms.com/category/developers/hooks/filters/logging/)
      - [Merge Tag Filters](https://docs.gravityforms.com/category/developers/hooks/filters/merge-tags/)
      - [Notification Filters](https://docs.gravityforms.com/category/developers/hooks/filters/notification-filters/)        - [gform\_disable\_resend\_notification](https://docs.gravityforms.com/gform_disable_resend_notification/ "gform_disable_resend_notification")
        - [gform\_notification\_email\_header](https://docs.gravityforms.com/gform_notification_email_header/ "gform_notification_email_header")
        - [gform\_email\_background\_color\_data](https://docs.gravityforms.com/gform_email_background_color_data/ "gform_email_background_color_data")
        - [gform\_email\_background\_color\_label](https://docs.gravityforms.com/gform_email_background_color_label/ "gform_email_background_color_label")
        - [gform\_form\_notification\_page](https://docs.gravityforms.com/gform_form_notification_page/ "gform_form_notification_page")
        - [gform\_notification\_enable\_cc](https://docs.gravityforms.com/gform_notification_enable_cc/ "gform_notification_enable_cc")
        - [gform\_html\_message\_template\_pre\_send\_email](https://docs.gravityforms.com/gform_html_message_template_pre_send_email/ "gform_html_message_template_pre_send_email")
        - [gform\_enable\_shortcode\_notification\_message](https://docs.gravityforms.com/gform_enable_shortcode_notification_message/ "gform_enable_shortcode_notification_message")
        - [gform\_routing\_field\_types](https://docs.gravityforms.com/gform_routing_field_types/ "gform_routing_field_types")
        - [gform\_notification\_validation](https://docs.gravityforms.com/gform_notification_validation/ "gform_notification_validation")
        - [gform\_notification\_services](https://docs.gravityforms.com/gform_notification_services/ "gform_notification_services")
        - [gform\_notification\_ui\_settings](https://docs.gravityforms.com/gform_notification_ui_settings/ "gform_notification_ui_settings")
        - [gform\_notification\_events](https://docs.gravityforms.com/gform_notification_events/ "gform_notification_events")
        - [gform\_pre\_notification\_save](https://docs.gravityforms.com/gform_pre_notification_save/ "gform_pre_notification_save")
        - [gform\_notification\_actions](https://docs.gravityforms.com/gform_notification_actions/ "gform_notification_actions")
        - [gform\_notification](https://docs.gravityforms.com/gform_notification/ "gform_notification")
        - [gform\_is\_valid\_notification\_to](https://docs.gravityforms.com/gform_is_valid_notification_to/ "gform_is_valid_notification_to")
        - [gform\_entry\_meta\_conditional\_logic\_notifications](https://docs.gravityforms.com/gform_entry_meta_conditional_logic_notifications/ "gform_entry_meta_conditional_logic_notifications")
        - [gform\_disable\_notification](https://docs.gravityforms.com/gform_disable_notification/ "gform_disable_notification")
        - [gform\_default\_notification](https://docs.gravityforms.com/gform_default_notification/ "gform_default_notification")
        - [gform\_before\_resend\_notifications](https://docs.gravityforms.com/gform_before_resend_notifications/ "gform_before_resend_notifications")
        - [gform\_pre\_send\_email](https://docs.gravityforms.com/gform_pre_send_email/ "gform_pre_send_email")
        - [gform\_notification\_settings\_fields](https://docs.gravityforms.com/gform_notification_settings_fields/ "gform_notification_settings_fields")
        - [gform\_is\_asynchronous\_notifications\_enabled](https://docs.gravityforms.com/gform_is_asynchronous_notifications_enabled/ "gform_is_asynchronous_notifications_enabled")
        - [gform\_format\_email\_to](https://docs.gravityforms.com/gform_format_email_to/ "gform_format_email_to")
      - [Payment Filters](https://docs.gravityforms.com/category/developers/hooks/filters/payment/)
      - [Post Creation Filters](https://docs.gravityforms.com/category/developers/hooks/filters/post-creation/)
      - [REST API v1 Filters](https://docs.gravityforms.com/category/developers/hooks/filters/rest-api-v1/)
      - [REST API v2 Filters](https://docs.gravityforms.com/category/developers/hooks/filters/rest-api-v2/)
      - [Rich Text Editor Filters](https://docs.gravityforms.com/category/developers/hooks/filters/rich-text-editor/)
      - [Save and Continue Filters](https://docs.gravityforms.com/category/developers/hooks/filters/save-and-continue/)
      - [Script Filters](https://docs.gravityforms.com/category/developers/hooks/filters/script-filters/)
      - [Styling/Theme/CSS Filters](https://docs.gravityforms.com/category/developers/hooks/filters/styling-filters/)
      - [System Status Filters](https://docs.gravityforms.com/category/developers/hooks/filters/system-status/)
      - [Upload Filters](https://docs.gravityforms.com/category/developers/hooks/filters/upload-filters/)
      - [Validation Filters](https://docs.gravityforms.com/category/developers/hooks/filters/validation/)
    - [JavaScript](https://docs.gravityforms.com/category/developers/hooks/javascript/)
    - [Deprecated](https://docs.gravityforms.com/category/developers/hooks/deprecated/)
  - [Data Objects](https://docs.gravityforms.com/category/developers/data-objects/)
  - [PHP API](https://docs.gravityforms.com/category/developers/php-api/)
  - [Database](https://docs.gravityforms.com/category/developers/database/)
  - [Developer Snippets](https://docs.gravityforms.com/category/developers/tutorials/)
  - [REST API](https://docs.gravityforms.com/category/developers/rest-api/)
- [Knowledge Base](https://docs.gravityforms.com/category/knowledge-base/)

# gform\_notification

- [Description](https://docs.gravityforms.com/gform_notification/#h-description)
- [Usage](https://docs.gravityforms.com/gform_notification/#h-usage)
- [Examples](https://docs.gravityforms.com/gform_notification/#h-examples)
- [1\. Append text to message](https://docs.gravityforms.com/gform_notification/#h-1-append-text-to-message)
- [2\. Change to or toType settings for user notification](https://docs.gravityforms.com/gform_notification/#h-2-change-to-or-totype-settings-for-user-notification)
- [3\. Change to or toType settings for admin notification](https://docs.gravityforms.com/gform_notification/#h-3-change-to-or-totype-settings-for-admin-notification)
- [4\. Change the message format](https://docs.gravityforms.com/gform_notification/#h-4-change-the-message-format)
- [5\. Attach single file uploads](https://docs.gravityforms.com/gform_notification/#h-5-attach-single-file-uploads)
- [6\. Attach single or multi-file file uploads](https://docs.gravityforms.com/gform_notification/#h-6-attach-single-or-multi-file-file-uploads)
- [7\. Change to setting depending on users email](https://docs.gravityforms.com/gform_notification/#h-7-change-to-setting-depending-on-users-email)
- [8\. Configure routing](https://docs.gravityforms.com/gform_notification/#h-8-configure-routing)
- [9\. Use values from a List field](https://docs.gravityforms.com/gform_notification/#h-9-use-values-from-a-list-field)
- [10\. Attach specific file](https://docs.gravityforms.com/gform_notification/#h-10-attach-specific-file)
- [Placement](https://docs.gravityforms.com/gform_notification/#h-placement)
- [Source Code](https://docs.gravityforms.com/gform_notification/#h-source-code)

## Description

Modify a notification object before it is converted into an email and sent.

## Usage

The following would apply to all forms:

|     |     |
| --- | --- |
| 1 | `add_filter(``'gform_notification'``,``'your_function_name'``, 10, 3 );` |

To target a specific form append the form id to the hook name. (format: gform\_notification\_FORMID)

|     |     |
| --- | --- |
| 1 | `add_filter(``'gform_notification_5'``,``'your_function_name'``, 10, 3 );` |

## Parameters

- **$notification** [array](https://docs.gravityforms.com/array)
An array of properties which make up a notification object. See [Notifications Object](https://docs.gravityforms.com/notifications-object) for possible properties.

- **$form** [Form Object](https://docs.gravityforms.com/form-object)

The form object for which the notification is being sent.

- **$entry** [Entry Object](https://docs.gravityforms.com/entry-object)

The entry object for which the notification is being sent.


## Examples

### 1\. Append text to message

This example demonstrates how you can use the **gform\_notification** filter to append a signature to all outgoing Gravity Form notifications.

|     |     |
| --- | --- |
| 1<br>2<br>3<br>4<br>5<br>6<br>7<br>8 | `add_filter(``'gform_notification'``,``'my_gform_notification_signature'``, 10, 3 );`<br>`function``my_gform_notification_signature(``$notification``,``$form``,``$entry``) {`<br>```// append a signature to the existing notification`<br>```// message with .=`<br>```$notification``[``'message'``] .=``"n --The Team @ rocketgenius"``;`<br>```return``$notification``;`<br>`}` |

### 2\. Change to or toType settings for user notification

This example demonstrates how to update old code that is using the deprecated [gform\_autoresponder\_email](https://docs.gravityforms.com/gform_autoresponder_email) hook

|     |     |
| --- | --- |
| 1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17 | `add_filter(``'gform_notification'``,``'change_autoresponder_email'``, 10, 3 );`<br>`function``change_autoresponder_email(``$notification``,``$form``,``$entry``) {`<br>```// There is no concept of user notifications anymore, so`<br>```// we will need to target notifications based on other`<br>```// criteria, such as name`<br>```if``(``$notification``[``'name'``] ==``'User Notification'``) {`<br>```// toType can be routing or email`<br>```$notification``[``'toType'``] =``'email'``;`<br>```// change the "to" email address`<br>```$notification``[``'to'``] =``'test@test.com'``;`<br>```}`<br>```return``$notification``;`<br>`}` |

### 3\. Change to or toType settings for admin notification

This example demonstrates how to update old code that is using the deprecated [gform\_notification\_email](https://docs.gravityforms.com/gform_notification_email) hook

|     |     |
| --- | --- |
| 1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14 | `add_filter(``'gform_notification'``,``'change_notification_email'``, 10, 3 );`<br>`function``change_notification_email(``$notification``,``$form``,``$entry``) {`<br>```//There is no concept of admin notifications anymore, so we will need to target notifications based on other criteria, such as name`<br>```if``(``$notification``[``'name'``] ==``'Admin Notification'``) {`<br>```// toType can be routing or email`<br>```$notification``[``'toType'``] =``'email'``;`<br>```$notification``[``'to'``] =``'test@test.com'``;`<br>```}`<br>```return``$notification``;`<br>`}` |

### 4\. Change the message format

The default message format for notifications is **html**, however, you can change the format to **text** or **multipart**.

This example also demonstrates how to update old code that is using the deprecated [gform\_notification\_format](https://docs.gravityforms.com/gform_notification_format) hook.

|     |     |
| --- | --- |
| 1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12 | `add_filter(``'gform_notification'``,``'change_notification_format'``, 10, 3 );`<br>`function``change_notification_format(``$notification``,``$form``,``$entry``) {`<br>```GFCommon::log_debug(``'gform_notification: change_notification_format() running.'``);`<br>```// Do the thing only for a notification with the name Text Notification`<br>```if``(``$notification``[``'name'``] ==``'Text Notification'``) {`<br>```GFCommon::log_debug(``'gform_notification: format changed to text.'``);`<br>```// Change notification format to text from the default html`<br>```$notification``[``'message_format'``] =``'text'``;`<br>```}`<br>```return``$notification``;`<br>`}` |

### 5\. Attach single file uploads

As of Gravity Forms 2.4, there is an option in the Notification to attach files uploaded from the File Upload field. This example is not necessary, unless you are filtering which files to include.

This example demonstrates how to update old code that is using the deprecated **gform\_user\_notification\_attachments** hook and applies to single file upload fields only.

|     |     |
| --- | --- |
| 1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25 | `add_filter(``'gform_notification'``,``'change_user_notification_attachments'``, 10, 3 );`<br>`function``change_user_notification_attachments(``$notification``,``$form``,``$entry``) {`<br>```//There is no concept of user notifications anymore, so we will need to target notifications based on other criteria, such as name`<br>```if``(``$notification``[``'name'``] ==``'User Notification'``) {`<br>```$fileupload_fields``= GFCommon::get_fields_by_type(``$form``,``array``(``'fileupload'``) );`<br>```if``( !``is_array``(``$fileupload_fields``) )`<br>```return``$notification``;`<br>```$notification``[``'attachments'``] = (``is_array``( rgget(``'attachments'``,``$notification``) ) ) ? rgget(``'attachments'``,``$notification``) :``array``();`<br>```$upload_root``= RGFormsModel::get_upload_root();`<br>```foreach``(``$fileupload_fields``as``$field``) {`<br>```$url``=``$entry``[``$field``->id ];`<br>```$attachment``= preg_replace(``'|^(.*?)/gravity_forms/|'``,``$upload_root``,``$url``);`<br>```if``(``$attachment``) {`<br>```$notification``[``'attachments'``][] =``$attachment``;`<br>```}`<br>```}`<br>```}`<br>```return``$notification``;`<br>`}` |

### 6\. Attach single or multi-file file uploads

As of Gravity Forms 2.4, there is an option in the Notification to attach files uploaded from the File Upload field. This example is not necessary, unless you are filtering which files to include.

Use this example if you have the multi-file uploads option selected:

|     |     |
| --- | --- |
| 1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>43 | `add_filter(``'gform_notification'``,``'rw_notification_attachments'``, 10, 3 );`<br>`function``rw_notification_attachments(``$notification``,``$form``,``$entry``) {`<br>```$log``=``'rw_notification_attachments() - '``;`<br>```GFCommon::log_debug(``$log``.``'starting.'``);`<br>```if``(``$notification``[``'name'``] ==``'Admin Notification'``) {`<br>```$fileupload_fields``= GFCommon::get_fields_by_type(``$form``,``array``(``'fileupload'``) );`<br>```if``( !``is_array``(``$fileupload_fields``) ) {`<br>```return``$notification``;`<br>```}`<br>```$notification``[``'attachments'``] = rgar(``$notification``,``'attachments'``,``array``() );`<br>```$upload_root``= RGFormsModel::get_upload_root();`<br>```foreach``(``$fileupload_fields``as``$field``) {`<br>```$url``= rgar(``$entry``,``$field``->id );`<br>```if``(``empty``(``$url``) ) {`<br>```continue``;`<br>```}``elseif``(``$field``->multipleFiles ) {`<br>```$uploaded_files``= json_decode(``stripslashes``(``$url``), true );`<br>```foreach``(``$uploaded_files``as``$uploaded_file``) {`<br>```$attachment``= preg_replace(``'|^(.*?)/gravity_forms/|'``,``$upload_root``,``$uploaded_file``);`<br>```GFCommon::log_debug(``$log``.``'attaching the file: '``. print_r(``$attachment``, true  ) );`<br>```$notification``[``'attachments'``][] =``$attachment``;`<br>```}`<br>```}``else``{`<br>```$attachment``= preg_replace(``'|^(.*?)/gravity_forms/|'``,``$upload_root``,``$url``);`<br>```GFCommon::log_debug(``$log``.``'attaching the file: '``. print_r(``$attachment``, true  ) );`<br>```$notification``[``'attachments'``][] =``$attachment``;`<br>```}`<br>```}`<br>```}`<br>```GFCommon::log_debug(``$log``.``'stopping.'``);`<br>```return``$notification``;`<br>`}` |

### 7\. Change to setting depending on users email

This example checks to see if the email address entered by a user matches certain strings to send the notification to a special email address for handling.

|     |     |
| --- | --- |
| 1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23 | `//target form id 203, change to your form id`<br>`add_filter(``'gform_notification_203'``,``'set_email_to_address'``, 10, 3 );`<br>`function``set_email_to_address(``$notification``,``$form``,``$entry``) {`<br>```//There is no concept of user notifications anymore, so we will need to target notifications based on other criteria,`<br>```//such as name`<br>```if``(``$notification``[``'name'``] ==``'Admin Notification'``) {`<br>```//get email address value`<br>```$user_email``= rgar(``$entry``,``'1'``);``//value for field id 1, change to your field id`<br>```//set email to address based on email address user entered`<br>```//gmail.com, hotmail.com, aol.com, yahoo or live.com`<br>```//look for special email addresses in user email string`<br>```if``(``strpos``(``$user_email``,``'gmail.com'``) ||``strpos``(``$user_email``,``'hotmail.com'``) ||``strpos``(``$user_email``,``'aol.com'``) ||``strpos``(``$user_email``,``'yahoo.com'``) ||``strpos``(``$user_email``,``'live.com'``) ) {`<br>```//user entered email address matching free email addresses, send to special address`<br>```$notification``[``'to'``] =``'special@example.com'``;`<br>```}``else``{`<br>```//not a free email address, send to priority email address`<br>```$notification``[``'to'``] =``'priority@example.com'``;`<br>```}`<br>```}`<br>```//return altered notification object`<br>```return``$notification``;`<br>`}` |

### 8\. Configure routing

This example shows how you can define routing rules.

|     |     |
| --- | --- |
| 1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22 | `add_filter(``'gform_notification'``,``'notification_routing'``, 10, 3 );`<br>`function``notification_routing(``$notification``,``$form``,``$entry``) {`<br>```if``(``$notification``[``'name'``] ==``'Admin Notification'``) {`<br>```$notification``[``'toType'``]  =``'routing'``;`<br>```$notification``[``'routing'``] =``array``(`<br>```array``(`<br>```'fieldId'``=> 1,`<br>```'operator'``=>``'is'``,`<br>```'value'``=>``'Sales'``,`<br>```'email'``=>``'sales@domain.com'``,`<br>```),`<br>```array``(`<br>```'fieldId'``=> 1,`<br>```'operator'``=>``'is'``,`<br>```'value'``=>``'Support'``,`<br>```'email'``=>``'support@domain.com'``,`<br>```),`<br>```);`<br>```}`<br>```return``$notification``;`<br>`}` |

### 9\. Use values from a List field

This example shows how you can use the values from a List field column as the TO address.

|     |     |
| --- | --- |
| 1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>43<br>44<br>45 | `add_filter(``'gform_notification_100'``,``'notification_emails_from_list_field'``, 10, 3 );`<br>`function``notification_emails_from_list_field(``$notification``,``$form``,``$entry``) {`<br>```// only change notification to address for this specific notification`<br>```if``(``$notification``[``'name'``] ==``'User Notification'``) {`<br>```$field_id``= 2;``// the id of the list field`<br>```$column_num``= 3;``// the number of column that holds the emails`<br>```// get the $field object for the provided id`<br>```$field``= RGFormsModel::get_field(``$form``,``$field_id``);`<br>```// check the field type as we only want the rest of the function to run if the field type is list`<br>```if``(``$field``->get_input_type() !=``'list'``) {`<br>```return``$notification``;`<br>```}`<br>```// count the actual number of columns`<br>```$column_count``=``count``(``$field``->choices );`<br>```if``(``$column_count``> 1 ) {`<br>```// subtract 1 from column number as the choices array is zero based`<br>```$column_num``=``$column_num``- 1;`<br>```// get the column label so we can use that as the key to the multi-column values`<br>```$column``= rgars(``$field``->choices,``"{$column_num}/text"``);`<br>```}`<br>```// get the list fields values from the $entry`<br>```$list_values``= unserialize(``$entry``[``$field_id``] );`<br>```$emails``=``array``();`<br>```foreach``(``$list_values``as``$value``) {`<br>```// get the emails for each row`<br>```$email``= isset(``$column``) ?``$value``[``$column``] :``$value``;`<br>```if``( GFCommon::is_valid_email(``$email``) ) {`<br>```$emails``[] =``$email``;`<br>```}`<br>```}`<br>```// replace the to address with a comma separated list of emails`<br>```$notification``[``'to'``] = GFCommon::implode_non_blank(``','``,``$emails``);`<br>```}`<br>```return``$notification``;`<br>`}` |

### 10\. Attach specific file

This example shows how you can attach a specific file to the notification.

|     |     |
| --- | --- |
| 1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25 | `add_filter(``'gform_notification_2'``,``'add_attachment_pdf'``, 10, 3 );``//target form id 2, change to your form id`<br>`function``add_attachment_pdf(``$notification``,``$form``,``$entry``) {`<br>```//There is no concept of user notifications anymore, so we will need to target notifications based on other criteria,`<br>```//such as name or subject`<br>```if``(``$notification``[``'name'``] ==``'User Notification'``) {`<br>```//get upload root for WordPress`<br>```$upload``= wp_upload_dir();`<br>```$upload_path``=``$upload``[``'basedir'``];`<br>```// Add file, use server absolute full path to your file.`<br>```$attachment``=``$upload_path``.``'/test.txt'``;`<br>```GFCommon::log_debug(``__METHOD__``.``'(): file to be attached: '``.``$attachment``);`<br>```if``(``file_exists``(``$attachment``) ) {`<br>```$notification``[``'attachments'``]   = rgar(``$notification``,``'attachments'``,``array``() );`<br>```$notification``[``'attachments'``][] =``$attachment``;`<br>```GFCommon::log_debug(``__METHOD__``.``'(): file added to attachments list: '``. print_r(``$notification``[``'attachments'``], 1 ) );`<br>```}``else``{`<br>```GFCommon::log_debug(``__METHOD__``.``'(): not attaching; file does not exist.'``);`<br>```}`<br>```}`<br>```//return altered notification object`<br>```return``$notification``;`<br>`}` |

## Placement

This code should be placed in the [functions.php](http://codex.wordpress.org/Theme_Development#Functions_File) file of your active theme.

## Source Code

This filter is located in GFCommon::send\_notification() in _common.php_

- Name


This field is for validation purposes and should be left unchanged.

- Was this article helpful?

- How we can improve it?

- Please [open a support ticket](https://www.gravityforms.com/open-support-ticket/) if you need technical support or want to report a bug. Product feedback, feature and integration requests, and other functionality ideas can be submitted on our [Product Roadmap page](https://www.gravityforms.com/gravity-forms-roadmap/?c=submit-idea).


Δ

Last modified: August 7, 2023

© Copyright 2008 - 2025 Rocketgenius, Inc

[Return to Gravity Forms](https://www.gravityforms.com/)

Notifications

[Algolia](https://docs.gravityforms.com/gform_notification/# "Algolia")

![](https://docs.gravityforms.com/wp-content/plugins/wpfront-scroll-top/includes/assets/icons/1.png)