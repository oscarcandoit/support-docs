---
url: "https://docs.gravityforms.com/gf_field/"
title: "GF_Field - Gravity Forms Documentation"
---

[![Gravity Forms Documentation](https://docs.gravityforms.com/wp-content/uploads/2023/09/logo.svg)](https://docs.gravityforms.com/) [![Gravity Forms Documentation](https://docs.gravityforms.com/wp-content/uploads/2024/08/gf-print_logo.svg)](https://docs.gravityforms.com/)

- [User Guides](https://docs.gravityforms.com/category/user-guides/)
- [Developer](https://docs.gravityforms.com/category/developers/)
- [Blog](https://www.gravityforms.com/blog/)
- [Changelog](https://docs.gravityforms.com/gravityforms-change-log/)

```

```

Toggle Menu

- [Getting Started](https://docs.gravityforms.com/category/getting-started/)
- [Your Gravity Forms Account](https://docs.gravityforms.com/category/your-gravity-forms-account/)
- [User Guides](https://docs.gravityforms.com/category/user-guides/)
- [Gravity Forms 2.9](https://docs.gravityforms.com/category/gravity-forms-2-9/)
- [Gravity Forms 2.8](https://docs.gravityforms.com/category/gravity-forms-2-8/)
- [Add-Ons](https://docs.gravityforms.com/category/add-ons-gravity-forms/)
- [Developers](https://docs.gravityforms.com/category/developers/)  - [Theme Framework](https://docs.gravityforms.com/category/developers/theme-framework/)
  - [Hooks](https://docs.gravityforms.com/category/developers/hooks/)
  - [Data Objects](https://docs.gravityforms.com/category/developers/data-objects/)
  - [PHP API](https://docs.gravityforms.com/category/developers/php-api/)    - [API Functions](https://docs.gravityforms.com/category/developers/php-api/api-functions/)
    - [Add-On Framework](https://docs.gravityforms.com/category/developers/php-api/add-on-framework/)
    - [Field Framework](https://docs.gravityforms.com/category/developers/php-api/field-framework/)      - [Field Classes](https://docs.gravityforms.com/category/developers/php-api/field-framework/field-classes/)        - [GF\_Field](https://docs.gravityforms.com/gf_field/ "GF_Field")
        - [GF\_Field\_Address](https://docs.gravityforms.com/gf_field_address/ "GF_Field_Address")
        - [GF\_Field\_Calculation](https://docs.gravityforms.com/gf_field_calculation/ "GF_Field_Calculation")
        - [GF\_Field\_CAPTCHA](https://docs.gravityforms.com/gf_field_captcha/ "GF_Field_CAPTCHA")
        - [GF\_Field\_Checkbox](https://docs.gravityforms.com/gf_field_checkbox/ "GF_Field_Checkbox")
        - [GF\_Field\_Consent](https://docs.gravityforms.com/gf_field_consent/ "GF_Field_Consent")
        - [GF\_Field\_Coupon](https://docs.gravityforms.com/gf_field_coupon/ "GF_Field_Coupon")
        - [GF\_Field\_CreditCard](https://docs.gravityforms.com/gf_field_creditcard/ "GF_Field_CreditCard")
        - [GF\_Field\_Date](https://docs.gravityforms.com/gf_field_date/ "GF_Field_Date")
        - [GF\_Field\_Dropbox](https://docs.gravityforms.com/gf_field_dropbox/ "GF_Field_Dropbox")
        - [GF\_Field\_Email](https://docs.gravityforms.com/gf_field_email/ "GF_Field_Email")
        - [GF\_Field\_FileUpload](https://docs.gravityforms.com/gf_field_fileupload/ "GF_Field_FileUpload")
        - [GF\_Field\_Hidden](https://docs.gravityforms.com/gf_field_hidden/ "GF_Field_Hidden")
        - [GF\_Field\_HiddenProduct](https://docs.gravityforms.com/gf_field_hiddenproduct/ "GF_Field_HiddenProduct")
        - [GF\_Field\_HTML](https://docs.gravityforms.com/gf_field_html/ "GF_Field_HTML")
        - [GF\_Field\_Image\_Choice](https://docs.gravityforms.com/gf_field_image_choice/ "GF_Field_Image_Choice")
        - [GF\_Field\_List](https://docs.gravityforms.com/gf_field_list/ "GF_Field_List")
        - [GF\_Field\_Multiple\_Choice](https://docs.gravityforms.com/gf_field_multiple_choice/ "GF_Field_Multiple_Choice")
        - [GF\_Field\_MultiSelect](https://docs.gravityforms.com/gf_field_multiselect/ "GF_Field_MultiSelect")
        - [GF\_Field\_Name](https://docs.gravityforms.com/gf_field_name/ "GF_Field_Name")
        - [GF\_Field\_Number](https://docs.gravityforms.com/gf_field_number/ "GF_Field_Number")
        - [GF\_Field\_Option](https://docs.gravityforms.com/gf_field_option/ "GF_Field_Option")
        - [GF\_Field\_Page](https://docs.gravityforms.com/gf_field_page/ "GF_Field_Page")
        - [GF\_Field\_Password](https://docs.gravityforms.com/gf_field_password/ "GF_Field_Password")
        - [GF\_Field\_Phone](https://docs.gravityforms.com/gf_field_phone/ "GF_Field_Phone")
        - [GF\_Field\_Price](https://docs.gravityforms.com/gf_field_price/ "GF_Field_Price")
        - [GF\_Field\_Product](https://docs.gravityforms.com/gf_field_product/ "GF_Field_Product")
        - [GF\_Field\_Quantity](https://docs.gravityforms.com/gf_field_quantity/ "GF_Field_Quantity")
        - [GF\_Field\_Radio](https://docs.gravityforms.com/gf_field_radio/ "GF_Field_Radio")
        - [GF\_Field\_Section](https://docs.gravityforms.com/gf_field_section/ "GF_Field_Section")
        - [GF\_Field\_Select](https://docs.gravityforms.com/gf_field_select/ "GF_Field_Select")
        - [GF\_Field\_Shipping](https://docs.gravityforms.com/gf_field_shipping/ "GF_Field_Shipping")
        - [GF\_Field\_SingleProduct](https://docs.gravityforms.com/gf_field_singleproduct/ "GF_Field_SingleProduct")
        - [GF\_Field\_SingleShipping](https://docs.gravityforms.com/gf_field_singleshipping/ "GF_Field_SingleShipping")
        - [GF\_Field\_Text](https://docs.gravityforms.com/gf_field_text/ "GF_Field_Text")
        - [GF\_Field\_Textarea](https://docs.gravityforms.com/gf_field_textarea/ "GF_Field_Textarea")
        - [GF\_Field\_Time](https://docs.gravityforms.com/gf_field_time/ "GF_Field_Time")
        - [GF\_Field\_Total](https://docs.gravityforms.com/gf_field_total/ "GF_Field_Total")
        - [GF\_Field\_Website](https://docs.gravityforms.com/gf_field_website/ "GF_Field_Website")
      - [Field Settings](https://docs.gravityforms.com/category/developers/php-api/field-framework/field-framework-settings/)
    - [Constants](https://docs.gravityforms.com/category/developers/php-api/constants/)
  - [Database](https://docs.gravityforms.com/category/developers/database/)
  - [Developer Snippets](https://docs.gravityforms.com/category/developers/tutorials/)
  - [REST API](https://docs.gravityforms.com/category/developers/rest-api/)
- [Knowledge Base](https://docs.gravityforms.com/category/knowledge-base/)

# GF\_Field

- [Introduction](https://docs.gravityforms.com/gf_field/#h-introduction)
- [Getting Started](https://docs.gravityforms.com/gf_field/#h-getting-started)
- [Main Functionality](https://docs.gravityforms.com/gf_field/#h-main-functionality)
- [get\_form\_editor\_field\_title()](https://docs.gravityforms.com/gf_field/#h-get-form-editor-field-title)
- [get\_form\_editor\_button()](https://docs.gravityforms.com/gf_field/#h-get-form-editor-button)
- [get\_form\_editor\_field\_settings()](https://docs.gravityforms.com/gf_field/#h-get-form-editor-field-settings)
- [is\_conditional\_logic\_supported()](https://docs.gravityforms.com/gf_field/#h-is-conditional-logic-supported)
- [get\_field\_input()](https://docs.gravityforms.com/gf_field/#h-get-field-input)
- [get\_field\_content()](https://docs.gravityforms.com/gf_field/#h-get-field-content)
- [validate()](https://docs.gravityforms.com/gf_field/#h-validate)
- [set\_input\_validation\_state()](https://docs.gravityforms.com/gf_field/#h-set-input-validation-state)
- [get\_form\_inline\_script\_on\_page\_render()](https://docs.gravityforms.com/gf_field/#h-get-form-inline-script-on-page-render)
- [get\_form\_editor\_inline\_script\_on\_page\_render()](https://docs.gravityforms.com/gf_field/#h-get-form-editor-inline-script-on-page-render)
- [get\_value\_save\_entry()](https://docs.gravityforms.com/gf_field/#h-get-value-save-entry)
- [get\_value\_merge\_tag()](https://docs.gravityforms.com/gf_field/#h-get-value-merge-tag)
- [get\_value\_entry\_detail()](https://docs.gravityforms.com/gf_field/#h-get-value-entry-detail)
- [Sanitization](https://docs.gravityforms.com/gf_field/#h-sanitization)
- [Input Sanitization](https://docs.gravityforms.com/gf_field/#h-input-sanitization)
- [Output Sanitization](https://docs.gravityforms.com/gf_field/#h-output-sanitization)
- [get\_value\_export()](https://docs.gravityforms.com/gf_field/#h-get-value-export)
- [Helpers](https://docs.gravityforms.com/gf_field/#h-helpers)
- [get\_input\_type()](https://docs.gravityforms.com/gf_field/#h-get-input-type)
- [get\_tabindex()](https://docs.gravityforms.com/gf_field/#h-get-tabindex)
- [get\_conditional\_logic\_event()](https://docs.gravityforms.com/gf_field/#h-get-conditional-logic-event)
- [get\_field\_placeholder\_attribute()](https://docs.gravityforms.com/gf_field/#h-get-field-placeholder-attribute)
- [get\_input\_placeholder\_attribute()](https://docs.gravityforms.com/gf_field/#h-get-input-placeholder-attribute)
- [Core Field Classes](https://docs.gravityforms.com/gf_field/#h-core-field-classes)
- [Add-On Field Classes](https://docs.gravityforms.com/gf_field/#h-add-on-field-classes)

## Introduction

The GF\_Field class provides basic functionality for developers when creating new fields for Gravity Forms. It facilitates the following:

- Adding a button for the field to the form editor
- Defining the field title to be used in the form editor
- Defining which settings should be present when editing the field
- Registering the field as compatible with conditional logic
- Outputting field scripts to the form editor and front-end
- Defining the field appearance on the front-end, in the form editor and on the entry detail page
- Validating the field during submission
- Saving the entry value
- Defining how the entry value is displayed when merge tags are processed, on the entries list and entry detail pages
- Defining how the entry value should be formatted when used in csv exports and by framework based add-ons

## Getting Started

These are the first steps you’ll need to take to create a field using the Field Framework.

1. Creating a new class which extends GF\_Field _(Note: If your new field will have similar functionality to an existing field you can save some work by extending that field type instead e.g. GF\_Field\_Post\_Image extends GF\_Field\_Fileupload)_
2. Add the $type variable
3. Register the field with Gravity Forms

**Example:**

|     |     |
| --- | --- |
| 1<br>2<br>3<br>4<br>5<br>6 | `class``GF_Field_Phone``extends``GF_Field {`<br>```public``$type``=``'phone'``;`<br>`}`<br>`GF_Fields::register(``new``GF_Field_Phone() );` |

## Main Functionality

Now you have the basic field you can start defining its appearance and behaviour by overriding functions from GF\_Field or whichever the class you extended.

The examples shown below are taken from various field types.

### get\_form\_editor\_field\_title()

The default behaviour of get\_form\_editor\_field\_title() is to return the value of the $type variable, however, you may want the field in the form editor to use a different title or have the first letter uppercased in which case you will want to override this method.

|     |
| --- |
| `public``function``get_form_editor_field_title() {}` |

**Example:**

|     |
| --- |
| `public``function``get_form_editor_field_title() {`<br>```return``esc_attr__(``'Phone'``,``'gravityforms'``);`<br>`}` |

### get\_form\_editor\_button()

The default behaviour of get\_form\_editor\_button() is to return an associative array assigning the field to the standard\_fields group using the value returned by get\_form\_editor\_field\_title() as the button text.

The built-in groups are standard\_fields, advanced\_fields, post\_fields, and pricing\_fields. See the [How To Add A Custom Field Group When Using The Field Framework](https://docs.gravityforms.com/add-custom-field-group-using-field-framework/) article for an example showing how you can define a new group.

|     |
| --- |
| `public``function``get_form_editor_button() {}` |

**Example:**

|     |
| --- |
| `public``function``get_form_editor_button() {`<br>```return``array``(`<br>```'group'``=>``'advanced_fields'``,`<br>```'text'``=>``$this``->get_form_editor_field_title()`<br>```);`<br>`}` |

### get\_form\_editor\_field\_settings()

The default behavior of get\_form\_editor\_field\_settings() is to return an empty array so you will want to override this method and return an array containing the class names of the settings you want to appear on your field in the form editor.

You can find a list of the available settings in the following articles:

- [General Field Settings](https://docs.gravityforms.com/general-field-settings)
- [Appearance Field Settings](https://docs.gravityforms.com/appearance-field-settings)
- [Advanced Field Settings](https://docs.gravityforms.com/advanced-field-settings)

You can also define your own custom settings by using the [gform\_field\_standard\_settings](https://docs.gravityforms.com/gform_field_standard_settings), [gform\_field\_appearance\_settings](https://docs.gravityforms.com/gform_field_appearance_settings), and [gform\_field\_advanced\_settings](https://docs.gravityforms.com/gform_field_advanced_settings) hooks.

|     |
| --- |
| `function``get_form_editor_field_settings() {}` |

**Example:**

|     |
| --- |
| `function``get_form_editor_field_settings() {`<br>```return``array``(`<br>```'conditional_logic_field_setting'``,`<br>```'prepopulate_field_setting'``,`<br>```'error_message_setting'``,`<br>```'label_setting'``,`<br>```'label_placement_setting'``,`<br>```'admin_label_setting'``,`<br>```'size_setting'``,`<br>```'rules_setting'``,`<br>```'visibility_setting'``,`<br>```'duplicate_setting'``,`<br>```'default_value_setting'``,`<br>```'placeholder_setting'``,`<br>```'description_setting'``,`<br>```'phone_format_setting'``,`<br>```'css_class_setting'``,`<br>```);`<br>`}` |

### is\_conditional\_logic\_supported()

The default behavior of is\_conditional\_logic\_supported() is to return false meaning the field can’t be used with conditional logic. Override this method by returning true to allow the field to be used when configuring conditional logic rules.

|     |
| --- |
| `public``function``is_conditional_logic_supported() {}` |

**Example:**

|     |
| --- |
| `public``function``is_conditional_logic_supported() {`<br>```return``true;`<br>`}` |

### get\_field\_input()

This method is used to define the fields inner markup, including the div with the ginput\_container class. The default behavior of get\_field\_input() is to return an empty string so you will want to override this method.

|     |
| --- |
| `public``function``get_field_input(``$form``,``$value``=``''``,``$entry``= null ) {}` |

**Parameters:**

- **$form** [Form Object](https://docs.gravityforms.com/form-object)

The form object currently being processed.
- **$value** [string](https://docs.gravityforms.com/string) \| [array](https://docs.gravityforms.com/array)

The field value from the $\_POST or the resumed incomplete submission.
- **$entry** null\| [Entry Object](https://docs.gravityforms.com/entry-object)

Null or the entry object currently being edited.

**Return:**

The field’s inner markup. [string](https://docs.gravityforms.com/string)

**Example:**

|     |
| --- |
| `public``function``get_field_input(``$form``,``$value``=``''``,``$entry``= null ) {`<br>```$form_id``=``$form``[``'id'``];`<br>```$is_entry_detail``=``$this``->is_entry_detail();`<br>```$id``= (int)``$this``->id;`<br>```if``(``$is_entry_detail``) {`<br>```$input``=``"<input type='hidden' id='input_{$id}' name='input_{$id}' value='{$value}' />"``;`<br>```return``$input``.``'<br/>'``. esc_html__(``'Coupon fields are not editable'``,``'gravityformscoupons'``);`<br>```}`<br>```$disabled_text``=``$this``->is_form_editor() ?``'disabled="disabled"'``:``''``;`<br>```$logic_event``= version_compare( GFForms::``$version``,``'2.4.1'``,``'<'``) ?``$this``->get_conditional_logic_event(``'change'``) :``''``;`<br>```$placeholder_attribute``=``$this``->get_field_placeholder_attribute();`<br>```$coupons_detail``= rgpost(``"gf_coupons_{$form_id}"``);`<br>```$coupon_codes``=``empty``(``$coupons_detail``) ?``''``: rgpost(``"input_{$id}"``);`<br>```$input``=``"<div class='ginput_container' id='gf_coupons_container_{$form_id}'>"``.`<br>```"<input id='gf_coupon_code_{$form_id}' class='gf_coupon_code' onkeyup='DisableApplyButton({$form_id});' onchange='DisableApplyButton({$form_id});' onpaste='setTimeout(function(){DisableApplyButton({$form_id});}, 50);' type='text'  {$disabled_text} {$placeholder_attribute} "``.``$this``->get_tabindex() .``'/>'``.`<br>```"<input type='button' disabled='disabled' onclick='ApplyCouponCode({$form_id});' value='"``. esc_attr__( 'Apply``', '``gravityformscoupons``' ) . "'``id=``'gf_coupon_button'``class``=``'button'``{``$disabled_text``} " .``$this``->get_tabindex() .``'/> '``.`<br>```"<img style='display:none;' id='gf_coupon_spinner' src='"``. gf_coupons()->get_base_url() .``"/images/spinner.gif' alt='"``. esc_attr__( 'please wait``', '``gravityformscoupons``' ) . "'``/>" .`<br>```"<div id='gf_coupon_info'></div>"``.`<br>```"<input type='hidden' id='gf_coupon_codes_{$form_id}' name='input_{$id}' value='"``. esc_attr(``$coupon_codes``) .``"' {$logic_event} />"``.`<br>```"<input type='hidden' id='gf_total_no_discount_{$form_id}'/>"``.`<br>```"<input type='hidden' id='gf_coupons_{$form_id}' name='gf_coupons_{$form_id}' value='"``. esc_attr(``$coupons_detail``) .``"' />"``.`<br>```"</div>"``;`<br>```return``$input``;`<br>`}` |

### get\_field\_content()

This method is used to define the fields overall appearance, such as how the admin buttons, field label, description or validation messages are included. Most fields won’t need to override this method, display only types such as Page, Section or HTML are examples of fields which do override the get\_field\_content() method.

```
public function get_field_content( $value, $force_frontend_label, $form ) {}
```

**Parameters:**

- **$value** [string](https://docs.gravityforms.com/string) \| [array](https://docs.gravityforms.com/array)
The field value from the $\_POST or the resumed incomplete submission.

- **$force\_frontend\_label** [boolean](https://docs.gravityforms.com/boolean)

Should the frontend label be displayed in the admin even if an admin label is configured. Default is false.

- **$form** [Form Object](https://docs.gravityforms.com/form-object)

The form object currently being processed.


**Return:**

The fields markup. [string](https://docs.gravityforms.com/string). Note: use the placeholder {FIELD} to define where the markup returned by [get\_field\_input()](https://docs.gravityforms.com/gf_field/#get_field_input) should be included.

**Example:**

|     |
| --- |
| `public``function``get_field_content(``$value``,``$force_frontend_label``,``$form``) {`<br>```$form_id``=``$form``[``'id'``];`<br>```$admin_buttons``=``$this``->get_admin_buttons();`<br>```$is_entry_detail``=``$this``->is_entry_detail();`<br>```$is_form_editor``=``$this``->is_form_editor();`<br>```$is_admin``=``$is_entry_detail``||``$is_form_editor``;`<br>```$field_label``=``$this``->get_field_label(``$force_frontend_label``,``$value``);`<br>```$field_id``=``$is_admin``||``$form_id``== 0 ?``"input_{$this->id}"``:``'input_'``.``$form_id``.``"_{$this->id}"``;`<br>```$field_content``= !``$is_admin``?``'{FIELD}'``:``$field_content``= sprintf(``"%s<label class='gfield_label' for='%s'>%s</label>{FIELD}"``,``$admin_buttons``,``$field_id``, esc_html(``$field_label``) );`<br>```return``$field_content``;`<br>`}` |

### validate()

Override this method to perform custom validation logic. This method is only used if the field passes the required validation (field is not empty), and any no duplicates validation.

```
public function validate( $value, $form ) {}
```

**Parameters:**

- **$value** [string](https://docs.gravityforms.com/string) \| [array](https://docs.gravityforms.com/array)
The field value from the $\_POST.

- **$form** [Form Object](https://docs.gravityforms.com/form-object)

The form object currently being processed.


**Return:**

This method does not return a value via a return statement. Return the validation result and message by setting the fields failed\_validation and validation\_message properties.

**Example:**

|     |
| --- |
| `public``function``validate(``$value``,``$form``) {`<br>```$regex``=``'/^\D?(\d{3})\D?\D?(\d{3})\D?(\d{4})$/'``;`<br>```if``(``$this``->phoneFormat ==``'standard'``&&``$value``!==``''``&&``$value``!== 0 && ! preg_match(``$regex``,``$value``) ) {`<br>```$this``->failed_validation = true;`<br>```if``( !``empty``(``$this``->errorMessage ) ) {`<br>```$this``->validation_message =``$this``->errorMessage;`<br>```}`<br>```}`<br>`}` |

### set\_input\_validation\_state()

This method is used on fields which have multiple inputs in order to update the `aria-invalid` attribute if a single input is invalid. When using `gform_field_validation` developers should mark a field’s inputs as valid/invalid using this method. When the field is rendered, this context value is used in order to determine what the `aria-invalid` value should be.

```
public function set_input_validation_state( $input_id, $is_valid ) {}
```

**Parameters:**

- **$input\_id** [string](https://docs.gravityforms.com/string)
The input ID within the field.

- **$is\_valid** [boolean](https://docs.gravityforms.com/boolean)
The input validation state. `true` if is valid.


**Return:**

This method does not return a value via a return statement.

### get\_form\_inline\_script\_on\_page\_render()

Override this method to include scripts with the form init scripts on page render. The init scripts are usually included immediately after the form in the page body.

Note: `<script>` tags should not be included as they will automatically be added.

```
public function get_form_inline_script_on_page_render( $form ) {}
```

**Parameters:**

- **$form** [Form Object](https://docs.gravityforms.com/form-object)
The form object currently being processed.


**Return:**

A [string](https://docs.gravityforms.com/string) containing the script to be included on page render.

**Example:**

|     |
| --- |
| `public``function``get_form_inline_script_on_page_render(``$form``) {`<br>```$script``=``''``;`<br>```if``(``$this``->phoneFormat ==``'standard'``) {`<br>```$script``=``"if(!/(android)/i.test(navigator.userAgent)){jQuery('#input_{$form['id']}_{$this->id}').mask('(999) 999-9999').on('keypress', function(e){if(e.which == 13){jQuery(this).blur();} } );}"``;`<br>```}`<br>```return``$script``;`<br>`}` |

### get\_form\_editor\_inline\_script\_on\_page\_render()

Override this method to include scripts for this field type in the form editor.

Note: `<script>` tags should not be included as they will automatically be added.

```
public function get_form_editor_inline_script_on_page_render() {}
```

**Example:**

|     |
| --- |
| `public``function``get_form_editor_inline_script_on_page_render() {`<br>```return``"`<br>```gform.addFilter(``'gform_form_editor_can_field_be_added'``,``function``(canFieldBeAdded, type) {`<br>```if``(type ==``'coupon'``) {`<br>```if``(GetFieldsByType([``'product'``]).length <= 0) {`<br>```alert(``" . json_encode( esc_html__( 'You must add a Product field to the form', 'gravityformscoupons' ) ) . "``);`<br>```return``false;`<br>```}``else``if``(GetFieldsByType([``'total'``]).length  <= 0) {`<br>```alert(``" . json_encode( esc_html__( 'You must add a Total field to the form', 'gravityformscoupons' ) ) . "``);`<br>```return``false;`<br>```}``else``if``(GetFieldsByType([``'coupon'``]).length) {`<br>```alert(``" . json_encode( esc_html__( 'Only one Coupon field can be added to the form', 'gravityformscoupons' ) ) . "``);`<br>```return``false;`<br>```}`<br>```}`<br>```return``canFieldBeAdded;`<br>```});";`<br>`}` |

### get\_value\_save\_entry()

Override this method to save the entry value in a custom format.

```
public function get_value_save_entry( $value, $form, $input_name, $lead_id, $lead ) {}
```

**Parameters:**

- **$value** [string](https://docs.gravityforms.com/string) \| [array](https://docs.gravityforms.com/array)
The input value to be saved.

- **$form** [Form Object](https://docs.gravityforms.com/form-object)

The form object currently being processed.

- **$input\_name** [string](https://docs.gravityforms.com/string)

The name attribute for the input being saved e.g. input\_1

- **$lead\_id** [integer](https://docs.gravityforms.com/integer)

The ID of the entry currently being processed.

- **$lead** [Entry Object](https://docs.gravityforms.com/entry-object)

The entry object currently being processed.


**Return:**

The input value to be saved. [string](https://docs.gravityforms.com/string) \| [array](https://docs.gravityforms.com/array)

**Example:**

|     |
| --- |
| `public``function``get_value_save_entry(``$value``,``$form``,``$input_name``,``$lead_id``,``$lead``) {`<br>```if``(``$this``->phoneFormat ==``'standard'``&& preg_match(``'/^\D?(\d{3})\D?\D?(\d{3})\D?(\d{4})$/'``,``$value``,``$matches``) ) {`<br>```$value``= sprintf(``'(%s) %s-%s'``,``$matches``[1],``$matches``[2],``$matches``[3] );`<br>```}`<br>```return``$value``;`<br>`}` |

### get\_value\_merge\_tag()

This method is used to define the value returned when the field merge tags are processed. The default behavior of get\_value\_merge\_tag() is to return the entry value so you will want to override this method if the value needs formatting before being returned.

```
public function get_value_merge_tag( $value, $input_id, $entry, $form, $modifier, $raw_value, $url_encode, $esc_html, $format, $nl2br ) {}
```

**Parameters:**

- **$value** [string](https://docs.gravityforms.com/string) \| [array](https://docs.gravityforms.com/array)
The field value. Depending on the location the merge tag is being used the following functions may have been applied to the value: esc\_html, nl2br, and urlencode.

- **$input\_id** [string](https://docs.gravityforms.com/string)

The field or input ID from the merge tag currently being processed.

- **$entry** [Entry Object](https://docs.gravityforms.com/entry-object)

The entry object currently being processed.

- **$form** [Form Object](https://docs.gravityforms.com/form-object)

The form object currently being processed.

- **$modifier** [string](https://docs.gravityforms.com/string)

The merge tag [modifier](https://www.gravityhelp.com/documentation/article/merge-tags/#modifiers).

- **$raw\_value** [string](https://docs.gravityforms.com/string) \| [array](https://docs.gravityforms.com/array)

The raw field value from before any of the functions mentioned in the description of **$value** above may have been applied.

- **$url\_encode** [boolean](https://docs.gravityforms.com/boolean)

Indicates if the urlencode function was applied to the **$value**.

- **$esc\_html** [boolean](https://docs.gravityforms.com/boolean)

Indicates if the esc\_html function was applied to the **$value**.

- **$format** [string](https://docs.gravityforms.com/string)

The format requested for the location the merge is being used. _Possible values: html, text or url._

- **$nl2br** [boolean](https://docs.gravityforms.com/boolean)

Indicates if the nl2br function was applied to the **$value**.


**Return:**

The formatted entry value.

**Example:**

|     |
| --- |
| `public``function``get_value_merge_tag(``$value``,``$input_id``,``$entry``,``$form``,``$modifier``,``$raw_value``,``$url_encode``,``$esc_html``,``$format``,``$nl2br``) {`<br>```$format_modifier``=``empty``(``$modifier``) ?``$this``->dateFormat :``$modifier``;`<br>```return``GFCommon::date_display(``$value``,``$format_modifier``);`<br>`}` |

### get\_value\_entry\_detail()

This method is used to define the value returned when the {all\_fields} merge tag is processed and when the entry detail page is displayed.

```
public function get_value_entry_detail( $value, $currency = '', $use_text = false, $format = 'html', $media = 'screen' ) {}
```

**Parameters:**

- **$value** [string](https://docs.gravityforms.com/string) \| [array](https://docs.gravityforms.com/array)
The field value.

- **$currency** [string](https://docs.gravityforms.com/string)

The currency code from the [Entry Object](https://docs.gravityforms.com/entry-object), if available.

- **$use\_text** [boolean](https://docs.gravityforms.com/boolean)

When processing choice based fields should the choice text be returned instead of the value.

- **$format** [string](https://docs.gravityforms.com/string)

The format requested for the location the merge is being used. _Possible values: html, text or url._

- **$media** [string](https://docs.gravityforms.com/string)

The location where the value will be displayed. _Possible values: screen or email._


**Return:**

The formatted entry value.

**Example:**

|     |
| --- |
| `public``function``get_value_entry_detail(``$value``,``$currency``=``''``,``$use_text``= false,``$format``=``'html'``,``$media``=``'screen'``) {`<br>```if``(``is_array``(``$value``) && !``empty``(``$value``) ) {`<br>```$product_name``= trim(``$value``[``$this``->id .``'.1'``] );`<br>```$price``= trim(``$value``[``$this``->id .``'.2'``] );`<br>```$quantity``= trim(``$value``[``$this``->id .``'.3'``] );`<br>```$product``=``$product_name``.``', '``. esc_html__(``'Qty: '``,``'gravityforms'``) .``$quantity``.``', '``. esc_html__(``'Price: '``,``'gravityforms'``) .``$price``;`<br>```return``$product``;`<br>```}``else``{`<br>```return``''``;`<br>```}`<br>`}` |

## Sanitization

Because each field type handles data in different ways, sanitization is the responsibility of each individual field type. When we talk about sanitization for Gravity Forms fields, one must think about two aspects of it. Input sanitization ( making sure values submitted by users are safe ), and Output sanitization ( making sure values displayed to the user or exported are properly encoded and/or sanitized ).

It is also important to keep field validation in mind and implement an appropriate validation when needed. For more information about validation, see the [validate()](https://docs.gravityforms.com/gf_field/#h-validate) section above.

### Input Sanitization

Because of all the different types and uses of data submitted by users, Gravity Forms by default doesn’t “destroy” or encode submitted data. It is the responsibility of each field type to make a judgment on which types of data are allowed and perform an appropriate sanitization. To sanitize field data, simply override the sanitize\_entry\_value() function. The following code snippet shows how to sanitize a field type that only accepts positive integers.

```
//Sanitizes the submitted value so that only positive integers are allowed
public function sanitize_entry_value( $value, $form_id ) {

   //makes sure submitted value is a positive integer
   $value = absint( $value );

   //return sanitized value
   return $value;
}
```

**HTML tag support**

For field types that need to support unencoded HTML tags, override the allow\_html() function:

```
//Allows most HTML tags. Script tags and other unsafe tags will still be stripped out.
public function allow_html(){
    return true;
}
```

If you want to support some HTML tags but not all, override the get\_allowable\_tags() function:

|     |
| --- |
| `//Allows <b> and <i> tags. All other HTML tags will be stripped out.`<br>`public``function``get_allowable_tags( form_id = null ){`<br>```return``'<b><i>'``;`<br>`}` |

### Output Sanitization

When displaying field data to users (i.e. merge tags and entry pages ), fields must take care of encoding its data properly. For fields that do not support HTML tags (i.e. Text Field), Gravity Forms will encode the output and no extra sanitization by the field is required. However, fields that support HTML must encode its data appropriately before being displayed to the screen. Output sanitization is done via the available get\_value\_XXX() functions.

To sanitize values before being output by merge tags, override the get\_value\_merge\_tag() function. Note: For the {all\_fields} merge tag, use the get\_value\_entry\_detail() function instead.

```
/**
* Format the entry value for when the field/input merge tag is processed. Not called for the {all_fields} merge tag.  * Return a value that is safe for the context specified by $format.
* */
 public function get_value_merge_tag( $value, $input_id, $entry, $form, $modifier, $raw_value, $url_encode, $esc_html, $format, $nl2br ) {
       if ( $format === 'html' ) {

          //Escapes value so that it is safe to be displayed in HTML context.
          //$value could have already been encoded, so we use $raw_value to ensure it is not double encoded
          $return = esc_html( $raw_value );

          //Run nl2br() to preserve line breaks when auto-formatting is disabled on notifications/confirmations.
          $return = nl2br( $return );

    } else {
           //Text context does not require encoding
           $return = $value;
    }

       return $return;
 }


```

To sanitize values before being output in the entry list page, override the get\_value\_entry\_list() function.

```
/**
* Format the entry value for display on the entries list page.
* Return a value that's safe to display on the page.
*/
 public function get_value_entry_list( $value, $entry, $field_id, $columns, $form ) {

      //Escapes value so that it is safe to be displayed on the entry list page
      return = esc_html( $value );

}
```

To sanitize values before being output in the entry detail page or by the {all\_fields} merge tag, override the get\_value\_entry\_detail() function.

```
/**
* Format the entry value for display on the entry detail page and for the {all_fields} merge tag.
* Return a value that's safe to display for the context of the given $format.
*/
public function get_value_entry_detail( $value, $currency = '', $use_text = false, $format = 'html', $media = 'screen' ) {
     if ( $format === 'html' ) {
      //Escapes value so that it is safe to be displayed on the entry detail page or via the {all_fields} merge tag
          $return = esc_html( $value )
    } else {
        //Text context does not require encoding
        $return = $value;
    }
     return $return;
 }
```

#### get\_value\_export()

You can use it to manipulate or format values before being exported. get\_value\_export() formats a field’s value before it’s used in entry exports or by add-ons using GFAddOn::get\_field\_value(). It can be overridden to customize how data is prepared for export.

```
/**
* Format the entry value before it is used in entry exports and by framework add-ons using GFAddOn::get_field_value().
*/
 public function get_value_export( $entry, $input_id = '', $use_text = false, $is_csv = false ) {
     //Export doesn’t require encoding, but field data may require some manipulation or formatting before it is exported
     $value = rgar( $entry, $input_id );
     return $value;
}
```

## Helpers

### get\_input\_type()

You can use the get\_input\_type() method to retrieve the fields input type. If set, the _inputType_ property will be returned, otherwise, it will return the _type_ property.

```
public function get_input_type() {}
```

**Example:**

Some fields have a ‘field type’ setting allowing the user to choose the type of input to use e.g. text or checkbox. This setting will save the user’s selection under the _inputType_ property in the [Field Object](https://docs.gravityforms.com/field-object).

If you needed to loop through the fields in the form object and only perform actions for a specific input type you would need to check both the _type_ and _inputType_ properties. The get\_input\_type() method makes this easier, so instead of doing something like this:

|     |
| --- |
| `if``(``$field``->type ==``'checkbox'``||``$field``->inputType ==``'checkbox'``) {}` |

You can simply do this:

|     |
| --- |
| `if``(``$field``->get_input_type() ==``'checkbox'``) {}` |

### get\_tabindex()

get\_tabindex() returns a string containing the tabindex attribute and value which can then be added to the field input.

```
public function get_tabindex() {}
```

**Example:**

See [get\_field\_input](https://docs.gravityforms.com/gf_field/#get_field_input) above for a usage example.

### get\_conditional\_logic\_event()

The get\_conditional\_logic\_event() method returns the input attribute and value which will trigger the evaluation of conditional logic rules which depend on this field. **Note:** This function has been deprecated in Gravity Forms 2.4. No replacement for it is needed, Conditional Logic is now triggered based on .gfield class name.

```
public function get_conditional_logic_event( $event ) {}
```

**Parameters:**

- **$event** [string](https://docs.gravityforms.com/string)
The event attribute which should be returned. _Possible values: keyup, click, or change._


**Return:**

A [string](https://docs.gravityforms.com/string) containing the attribute and value.

**Example:**

|     |
| --- |
| `$logic_event``=``$this``->get_conditional_logic_event(``'keyup'``);` |

### get\_field\_placeholder\_attribute()

The get\_field\_placeholder\_attribute() method returns a string containing the field placeholder attribute and value.

```
public function get_field_placeholder_attribute() {}
```

**Example:**

See [get\_field\_input](https://docs.gravityforms.com/gf_field/#get_field_input) above for a usage example.

### get\_input\_placeholder\_attribute()

The get\_input\_placeholder\_attribute() method returns a string containing the placeholder attribute and value for an input belonging to a multi-input field.

```
public function get_input_placeholder_attribute( $input ) {}
```

**Parameters:**

- **$input** [array](https://docs.gravityforms.com/array)
An array containing the properties of a specific input from the [Field Object](https://docs.gravityforms.com/field-object) \*inputs\* property.


**Return:**

A [string](https://docs.gravityforms.com/string) containing the attribute and value.

**Example:**

|     |
| --- |
| `$address_street_field_input``= GFFormsModel::get_input(``$this``,``$this``->id .``'.1'``);`<br>`$street_placeholder_attribute``=``$this``->get_input_placeholder_attribute(``$address_street_field_input``);` |

## Core Field Classes

Below is a list of the classes, included with Gravity Forms, which extend the GF\_Field class.

- [GF\_Field\_Address](https://docs.gravityforms.com/gf_field_address)
- [GF\_Field\_Calculation](https://docs.gravityforms.com/gf_field_calculation)
- [GF\_Field\_Captcha](https://docs.gravityforms.com/gf_field_captcha)
- [GF\_Field\_Checkbox](https://docs.gravityforms.com/gf_field_checkbox)
- [GF\_Field\_Creditcard](https://docs.gravityforms.com/gf_field_creditcard)
- [GF\_Field\_Date](https://docs.gravityforms.com/gf_field_date)
- [GF\_Field\_Email](https://docs.gravityforms.com/gf_field_email)
- [GF\_Field\_Fileupload](https://docs.gravityforms.com/gf_field_fileupload)
- [GF\_Field\_Hidden](https://docs.gravityforms.com/gf_field_hidden)
- [GF\_Field\_HiddenProduct](https://docs.gravityforms.com/gf_field_hiddenproduct/)
- [GF\_Field\_Html](https://docs.gravityforms.com/gf_field_html)
- [GF\_Field\_List](https://docs.gravityforms.com/gf_field_list)
- [GF\_Field\_Multiselect](https://docs.gravityforms.com/gf_field_multiselect)
- [GF\_Field\_Name](https://docs.gravityforms.com/gf_field_name)
- [GF\_Field\_Number](https://docs.gravityforms.com/gf_field_number)
- [GF\_Field\_Option](https://docs.gravityforms.com/gf_field_option)
- [GF\_Field\_Page](https://docs.gravityforms.com/gf_field_page)
- [GF\_Field\_Password](https://docs.gravityforms.com/gf_field_password)
- [GF\_Field\_Phone](https://docs.gravityforms.com/gf_field_phone)
- [GF\_Field\_Price](https://docs.gravityforms.com/gf_field_price)
- [GF\_Field\_Product](https://docs.gravityforms.com/gf_field_product)
- [GF\_Field\_Quantity](https://docs.gravityforms.com/gf_field_quantity)
- [GF\_Field\_Radio](https://docs.gravityforms.com/gf_field_radio)
- [GF\_Field\_Section](https://docs.gravityforms.com/gf_field_section)
- [GF\_Field\_Shipping](https://docs.gravityforms.com/gf_field_shipping)
- [GF\_Field\_Singleproduct](https://docs.gravityforms.com/gf_field_singleproduct)
- [GF\_Field\_Singleshipping](https://docs.gravityforms.com/gf_field_singleshipping)
- [GF\_Field\_Text](https://docs.gravityforms.com/gf_field_text)
- [GF\_Field\_Textarea](https://docs.gravityforms.com/gf_field_textarea/)
- [GF\_Field\_Time](https://docs.gravityforms.com/gf_field_time)
- [GF\_Field\_Total](https://docs.gravityforms.com/gf_field_total)
- [GF\_Field\_Website](https://docs.gravityforms.com/gf_field_website)

## Add-On Field Classes

Below is a list of the classes, included with Gravity Forms Add-Ons, which extend the GF\_Field class.

- [GF\_Field\_Coupon](https://docs.gravityforms.com/gf_field_coupon)
- [GF\_Field\_Dropbox](https://docs.gravityforms.com/gf_field_dropbox)

- Comments


This field is for validation purposes and should be left unchanged.

- Was this article helpful?

- How we can improve it?

- Please [open a support ticket](https://www.gravityforms.com/open-support-ticket/) if you need technical support or want to report a bug. Product feedback, feature and integration requests, and other functionality ideas can be submitted on our [Product Roadmap page](https://www.gravityforms.com/gravity-forms-roadmap/?c=submit-idea).


Δ

Last modified: January 8, 2025

© Copyright 2008 - 2025 Rocketgenius, Inc

[Return to Gravity Forms](https://www.gravityforms.com/)

Notifications

[Algolia](https://docs.gravityforms.com/gf_field/# "Algolia")

![](https://docs.gravityforms.com/wp-content/plugins/wpfront-scroll-top/includes/assets/icons/1.png)