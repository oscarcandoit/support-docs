---
url: "https://docs.gravityforms.com/gf_field_coupon/"
title: "GF_Field_Coupon - Gravity Forms Documentation"
---

[![Gravity Forms Documentation](https://docs.gravityforms.com/wp-content/uploads/2023/09/logo.svg)](https://docs.gravityforms.com/) [![Gravity Forms Documentation](https://docs.gravityforms.com/wp-content/uploads/2024/08/gf-print_logo.svg)](https://docs.gravityforms.com/)

- [User Guides](https://docs.gravityforms.com/category/user-guides/)
- [Developer](https://docs.gravityforms.com/category/developers/)
- [Blog](https://www.gravityforms.com/blog/)
- [Changelog](https://docs.gravityforms.com/gravityforms-change-log/)

```

```

Toggle Menu

- [Getting Started](https://docs.gravityforms.com/category/getting-started/)
- [Your Gravity Forms Account](https://docs.gravityforms.com/category/your-gravity-forms-account/)
- [User Guides](https://docs.gravityforms.com/category/user-guides/)
- [Gravity Forms 2.9](https://docs.gravityforms.com/category/gravity-forms-2-9/)
- [Gravity Forms 2.8](https://docs.gravityforms.com/category/gravity-forms-2-8/)
- [Add-Ons](https://docs.gravityforms.com/category/add-ons-gravity-forms/)
- [Developers](https://docs.gravityforms.com/category/developers/)  - [Theme Framework](https://docs.gravityforms.com/category/developers/theme-framework/)
  - [Hooks](https://docs.gravityforms.com/category/developers/hooks/)
  - [Data Objects](https://docs.gravityforms.com/category/developers/data-objects/)
  - [PHP API](https://docs.gravityforms.com/category/developers/php-api/)    - [API Functions](https://docs.gravityforms.com/category/developers/php-api/api-functions/)
    - [Add-On Framework](https://docs.gravityforms.com/category/developers/php-api/add-on-framework/)
    - [Field Framework](https://docs.gravityforms.com/category/developers/php-api/field-framework/)      - [Field Classes](https://docs.gravityforms.com/category/developers/php-api/field-framework/field-classes/)        - [GF\_Field](https://docs.gravityforms.com/gf_field/ "GF_Field")
        - [GF\_Field\_Address](https://docs.gravityforms.com/gf_field_address/ "GF_Field_Address")
        - [GF\_Field\_Calculation](https://docs.gravityforms.com/gf_field_calculation/ "GF_Field_Calculation")
        - [GF\_Field\_CAPTCHA](https://docs.gravityforms.com/gf_field_captcha/ "GF_Field_CAPTCHA")
        - [GF\_Field\_Checkbox](https://docs.gravityforms.com/gf_field_checkbox/ "GF_Field_Checkbox")
        - [GF\_Field\_Consent](https://docs.gravityforms.com/gf_field_consent/ "GF_Field_Consent")
        - [GF\_Field\_Coupon](https://docs.gravityforms.com/gf_field_coupon/ "GF_Field_Coupon")
        - [GF\_Field\_CreditCard](https://docs.gravityforms.com/gf_field_creditcard/ "GF_Field_CreditCard")
        - [GF\_Field\_Date](https://docs.gravityforms.com/gf_field_date/ "GF_Field_Date")
        - [GF\_Field\_Dropbox](https://docs.gravityforms.com/gf_field_dropbox/ "GF_Field_Dropbox")
        - [GF\_Field\_Email](https://docs.gravityforms.com/gf_field_email/ "GF_Field_Email")
        - [GF\_Field\_FileUpload](https://docs.gravityforms.com/gf_field_fileupload/ "GF_Field_FileUpload")
        - [GF\_Field\_Hidden](https://docs.gravityforms.com/gf_field_hidden/ "GF_Field_Hidden")
        - [GF\_Field\_HiddenProduct](https://docs.gravityforms.com/gf_field_hiddenproduct/ "GF_Field_HiddenProduct")
        - [GF\_Field\_HTML](https://docs.gravityforms.com/gf_field_html/ "GF_Field_HTML")
        - [GF\_Field\_Image\_Choice](https://docs.gravityforms.com/gf_field_image_choice/ "GF_Field_Image_Choice")
        - [GF\_Field\_List](https://docs.gravityforms.com/gf_field_list/ "GF_Field_List")
        - [GF\_Field\_Multiple\_Choice](https://docs.gravityforms.com/gf_field_multiple_choice/ "GF_Field_Multiple_Choice")
        - [GF\_Field\_MultiSelect](https://docs.gravityforms.com/gf_field_multiselect/ "GF_Field_MultiSelect")
        - [GF\_Field\_Name](https://docs.gravityforms.com/gf_field_name/ "GF_Field_Name")
        - [GF\_Field\_Number](https://docs.gravityforms.com/gf_field_number/ "GF_Field_Number")
        - [GF\_Field\_Option](https://docs.gravityforms.com/gf_field_option/ "GF_Field_Option")
        - [GF\_Field\_Page](https://docs.gravityforms.com/gf_field_page/ "GF_Field_Page")
        - [GF\_Field\_Password](https://docs.gravityforms.com/gf_field_password/ "GF_Field_Password")
        - [GF\_Field\_Phone](https://docs.gravityforms.com/gf_field_phone/ "GF_Field_Phone")
        - [GF\_Field\_Price](https://docs.gravityforms.com/gf_field_price/ "GF_Field_Price")
        - [GF\_Field\_Product](https://docs.gravityforms.com/gf_field_product/ "GF_Field_Product")
        - [GF\_Field\_Quantity](https://docs.gravityforms.com/gf_field_quantity/ "GF_Field_Quantity")
        - [GF\_Field\_Radio](https://docs.gravityforms.com/gf_field_radio/ "GF_Field_Radio")
        - [GF\_Field\_Section](https://docs.gravityforms.com/gf_field_section/ "GF_Field_Section")
        - [GF\_Field\_Select](https://docs.gravityforms.com/gf_field_select/ "GF_Field_Select")
        - [GF\_Field\_Shipping](https://docs.gravityforms.com/gf_field_shipping/ "GF_Field_Shipping")
        - [GF\_Field\_SingleProduct](https://docs.gravityforms.com/gf_field_singleproduct/ "GF_Field_SingleProduct")
        - [GF\_Field\_SingleShipping](https://docs.gravityforms.com/gf_field_singleshipping/ "GF_Field_SingleShipping")
        - [GF\_Field\_Text](https://docs.gravityforms.com/gf_field_text/ "GF_Field_Text")
        - [GF\_Field\_Textarea](https://docs.gravityforms.com/gf_field_textarea/ "GF_Field_Textarea")
        - [GF\_Field\_Time](https://docs.gravityforms.com/gf_field_time/ "GF_Field_Time")
        - [GF\_Field\_Total](https://docs.gravityforms.com/gf_field_total/ "GF_Field_Total")
        - [GF\_Field\_Website](https://docs.gravityforms.com/gf_field_website/ "GF_Field_Website")
      - [Field Settings](https://docs.gravityforms.com/category/developers/php-api/field-framework/field-framework-settings/)
    - [Constants](https://docs.gravityforms.com/category/developers/php-api/constants/)
  - [Database](https://docs.gravityforms.com/category/developers/database/)
  - [Developer Snippets](https://docs.gravityforms.com/category/developers/tutorials/)
  - [REST API](https://docs.gravityforms.com/category/developers/rest-api/)
- [Knowledge Base](https://docs.gravityforms.com/category/knowledge-base/)

# GF\_Field\_Coupon

- [Introduction](https://docs.gravityforms.com/gf_field_coupon/#h-introduction)
- [Properties](https://docs.gravityforms.com/gf_field_coupon/#h-properties)
- [Dynamic Population](https://docs.gravityforms.com/gf_field_coupon/#h-dynamic-population)
- [Calculations Support](https://docs.gravityforms.com/gf_field_coupon/#h-calculations-support)
- [Conditional Logic Support](https://docs.gravityforms.com/gf_field_coupon/#h-conditional-logic-support)
- [$entry Value](https://docs.gravityforms.com/gf_field_coupon/#h-entry-value)
- [Merge Tags](https://docs.gravityforms.com/gf_field_coupon/#h-merge-tags)
- [Useful Methods](https://docs.gravityforms.com/gf_field_coupon/#h-useful-methods)
- [get\_value\_export()](https://docs.gravityforms.com/gf_field_coupon/#h-get_value_export)
- [Source Code](https://docs.gravityforms.com/gf_field_coupon/#h-source-code)

## Introduction

The GF\_Field\_Coupon class extends the GF\_Field class, also known as the [Field Object](https://docs.gravityforms.com/field-object), it’s responsible for determining how the Coupon field is rendered when the form is displayed and how it’s value is handled during and after submission.

## Properties

These are the properties used by the Coupon field, which can be found in the [Field Object](https://docs.gravityforms.com/field-object), available to many of the hooks throughout Gravity Forms and some add-ons.

- **type** [string](https://docs.gravityforms.com/string)
The field type, which in this case is **coupon**.

- **id** [integer](https://docs.gravityforms.com/integer)

The field ID.

- **label** [string](https://docs.gravityforms.com/string)

The field label that will be displayed on the form and on the admin pages.

- **adminLabel** [string](https://docs.gravityforms.com/string)

The label to be used on admin pages instead of the label, useful for fields with long labels.

- **isRequired** [boolean](https://docs.gravityforms.com/boolean)

Determines if the field requires the user to apply a coupon. Marking the field as required will prevent the form from being submitted if a coupon is not applied. Default is false.

- **errorMessage** [string](https://docs.gravityforms.com/string)

The custom error message to be displayed if the field fails validation.

- **placeholder** [string](https://docs.gravityforms.com/string)

The display only text to be used with the placeholder attribute of the input the user enters the coupon code into, it is not included in submissions.

- **formId** [integer](https://docs.gravityforms.com/integer)

The ID of the form this field is located on.

- **pageNumber** [integer](https://docs.gravityforms.com/integer)

The form page this field is located on. Default is 1.

- **conditionalLogic** [array](https://docs.gravityforms.com/array)

An associative array containing the conditional logic rules. See the [Conditional Logic Object](https://docs.gravityforms.com/conditional-logic-object) for more details.

- **description** [string](https://docs.gravityforms.com/string)

The field description.

- **cssClass** [string](https://docs.gravityforms.com/string)

The custom CSS class or classes to be added to the li tag that contains the field.

- **failed\_validation** [boolean](https://docs.gravityforms.com/boolean)

Has the field failed validation. Default is false.

- **validation\_message** [string](https://docs.gravityforms.com/string)

The error message to be displayed.

- **descriptionPlacement** [string](https://docs.gravityforms.com/string)

The field description position. Empty when using the form defaults, a value of ‘below’ to position the description below the input container, or a value of ‘above’ to position the description above the input container.

- **labelPlacement** [string](https://docs.gravityforms.com/string)

The field label visibility. Empty when using the form defaults or a value of ‘hidden\_label’.

- **allowsPrepopulate** [boolean](https://docs.gravityforms.com/boolean)

Determines in the field value can be dynamically populated. Default is false.

- **inputName** [string](https://docs.gravityforms.com/string)

The parameter name used when dynamically populating the field. Only used when allowsPrepopulate is true.


## Dynamic Population

Since version 2.9.2 the Coupon field supports being [dynamically populated](https://docs.gravityforms.com/using-dynamic-population/) with one or more coupon codes. Multiple codes should be passed as a string in the following format:

`50OFF,25OFF`

## Calculations Support

Unfortunately the Coupon field can’t currently be used with calculations; we do have this on the feature request list.

## Conditional Logic Support

The Coupon field is supported by conditional logic; you can configure conditional logic rules on other fields based on the code entered in the Coupon field.

## $entry Value

The Coupon field stores the submitted coupon codes in the [Entry Object](https://docs.gravityforms.com/entry-object) as a string in the following format:

`50OFF,25OFF`

If you need to retrieve the entry value in a flexible way which would work with multiple forms where the Coupon field ID could be different we would recommend using the [get\_coupons\_by\_codes() method](https://www.gravityhelp.com/documentation/article/gfcoupons/#get_submitted_coupon_codes)

## Merge Tags

The field merge tag available via the merge tag drop down in notifications and confirmations will return the field entry value.

`{[Field Label]:[field_id]}` e.g. `{Coupon:3}`

The Coupon field does not have any modifiers for the field merge tag.

The `{all_fields}` merge tag will output the field entry value like any other field, however, the coupon codes will also be listed in the pricing summary table.

[![Pricing Summary Table](https://docs.gravityforms.com/wp-content/uploads/2015/08/coupons-pricing-summary-tabe.png)](https://docs.gravityforms.com/wp-content/uploads/2015/08/coupons-pricing-summary-tabe.png)

## Useful Methods

GF\_Field\_Coupon inherits it’s available methods from GF\_Field and overrides a few of them where necessary to provide its required appearance and functionality. Here are a few methods which can be useful when writing custom code.

### get\_value\_export()

The get\_value\_export() method formats the entry value before it is used in entry exports and by framework add-ons that integrate with third-party services, however, you can use it in your custom code when interacting with the [Form Object](https://docs.gravityforms.com/form-object), [Field Object](https://docs.gravityforms.com/field-object) and [Entry Object](https://docs.gravityforms.com/entry-object).

**Usage Examples**

|     |     |
| --- | --- |
| 1<br>2<br>3<br>4<br>5 | `// if you don't have the $field object you can get it like so:`<br>`$field``= GFAPI::get_field(``$form_or_form_id``,``$field_id``);`<br>`// if you have access to the $field object`<br>`$value``=``$field``->get_value_export(``$entry``);` |

- **$entry** [Entry Object](https://docs.gravityforms.com/entry-object)
The entry from which the field value should be retrieved. Required.

- **$input\_id** [string](https://docs.gravityforms.com/string)

The ID of the field for which the value should be retrieved. Required when not using $field. Defaults to the $field->id property when not supplied.

- **Returns** [string](https://docs.gravityforms.com/string)

The entry value formatted as `{couponName} ({couponCode}: {discount})`. Multiple codes will be comma separated e.g.

`$50 OFF (50OFF: -$50.00), 25% OFF (25OFF: -$12.50)`


## Source Code

The GF\_Field\_Coupon class is located in _class-gf-field-coupon.php_ in the Gravity Forms Coupons Add-On folder of your sites plugins directory.

The GF\_Field class is located in _includes/fields/class-gf-field.php_ in the Gravity Forms folder of your sites plugins directory.

- URL


This field is for validation purposes and should be left unchanged.

- Was this article helpful?

- How we can improve it?

- Please [open a support ticket](https://www.gravityforms.com/open-support-ticket/) if you need technical support or want to report a bug. Product feedback, feature and integration requests, and other functionality ideas can be submitted on our [Product Roadmap page](https://www.gravityforms.com/gravity-forms-roadmap/?c=submit-idea).


Δ

Last modified: June 17, 2020

© Copyright 2008 - 2025 Rocketgenius, Inc

[Return to Gravity Forms](https://www.gravityforms.com/)

Notifications

[Algolia](https://docs.gravityforms.com/gf_field_coupon/# "Algolia")

![](https://docs.gravityforms.com/wp-content/plugins/wpfront-scroll-top/includes/assets/icons/1.png)